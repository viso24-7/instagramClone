{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\post\\\\like\\\\post-like.js\";\nimport React, { Component, Fragment } from 'react';\nimport { post } from 'axios';\nimport * as PostUtils from '../../../utils/post-utils';\nimport MaterialIcon from '../../others/icons/material-icon';\nimport { number, func, shape } from 'prop-types';\nexport default class PostLike extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      liked: false\n    };\n\n    this.componentDidMount = async () => {\n      let {\n        postDetails: {\n          post_id\n        }\n      } = this.props;\n      let {\n        data: liked\n      } = await post('/api/liked-or-not', {\n        post_id\n      });\n      await this.setState({\n        liked\n      });\n    };\n\n    this.like = async () => {\n      let {\n        postDetails: {\n          post_id,\n          user\n        },\n        incrementWhat\n      } = this.props;\n      PostUtils.like({\n        post_id,\n        user,\n        done: () => {\n          this.setState({\n            liked: true\n          });\n          incrementWhat('likes_count');\n        }\n      });\n    };\n\n    this.unlike = async () => {\n      let {\n        postDetails: {\n          post_id,\n          decrementWhat\n        }\n      } = this.props;\n      PostUtils.unlike({\n        post_id,\n        done: () => {\n          this.setState({\n            liked: false\n          });\n          decrementWhat('likes_count');\n        }\n      });\n    };\n  }\n\n  render() {\n    let {\n      liked\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p_like_wra\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, liked ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"p_like p_unlike_icon\",\n      \"data-tip\": \"Unlike\",\n      onClick: this.unlike,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MaterialIcon, {\n      icon: \"favourite\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 29\n      }\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"p_like p_like_icon\",\n      onClick: this.like,\n      \"data-tip\": \"Like\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(MaterialIcon, {\n      icon: \"favourite_border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 29\n      }\n    }))));\n  }\n\n}\nPostLike.propTypes = {\n  postDetails: shape({\n    post_id: number.isRequired,\n    user: number.isRequired\n  }).isRequired,\n  incrementWhat: func.isRequired,\n  decrementWhat: func.isRequired\n};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/like/post-like.js"],"names":["React","Component","Fragment","post","PostUtils","MaterialIcon","number","func","shape","PostLike","state","liked","componentDidMount","postDetails","post_id","props","data","setState","like","user","incrementWhat","done","unlike","decrementWhat","render","propTypes","isRequired"],"mappings":"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","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {post} from 'axios';\r\n import * as PostUtils from '../../../utils/post-utils';\r\n import MaterialIcon from '../../others/icons/material-icon'\r\n import {number,func,shape} from 'prop-types';\r\n\r\n export default class PostLike extends Component {\r\n    state = { liked: false }\r\n\r\n    componentDidMount = async () => {\r\n        let {postDetails:{post_id}} = this.props;\r\n        let {data: liked} = await post('/api/liked-or-not',{post_id})\r\n        await this.setState({ liked })\r\n    }\r\n\r\n    like = async () => {\r\n        let {postDetails: {post_id,user}, incrementWhat} = this.props;\r\n        PostUtils.like({\r\n             post_id,\r\n             user,\r\n             done: () => {\r\n                 this.setState({ liked: true })\r\n                 incrementWhat('likes_count')\r\n             }\r\n        })\r\n    }\r\n\r\n    unlike = async () => {\r\n        let {postDetails: {post_id,decrementWhat}} = this.props;\r\n        PostUtils.unlike({\r\n            post_id,\r\n            done: () => {\r\n                this.setState({ liked: false })\r\n                decrementWhat('likes_count')\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        let {liked} = this.state;\r\n\r\n        return (\r\n            <Fragment>\r\n                <div className=\"p_like_wra\">\r\n                    {liked ? (\r\n                        <span className=\"p_like p_unlike_icon\" data-tip=\"Unlike\" onClick={this.unlike}>\r\n                            <MaterialIcon icon=\"favourite\" />\r\n                        </span>\r\n                    ) : (\r\n                        <span className=\"p_like p_like_icon\" onClick={this.like} data-tip=\"Like\">\r\n                            <MaterialIcon icon=\"favourite_border\" />\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n }\r\n\r\n PostLike.propTypes = {\r\n     postDetails: shape({\r\n         post_id: number.isRequired,\r\n         user: number.isRequired\r\n        }).isRequired,\r\n     incrementWhat: func.isRequired,\r\n     decrementWhat: func.isRequired    \r\n }"]},"metadata":{},"sourceType":"module"}