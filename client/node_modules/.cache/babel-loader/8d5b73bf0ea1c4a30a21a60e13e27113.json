{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import{post}from'axios';import{notify}from'../utils/utilMethods/handy-notification';var GOOGLE_GEOLOCATION_KEY=process.env.GOOGLE_GEOLOCATION_KEY;/**\r\n * Geolocation setup\r\n * @param {Function} success Success function\r\n */export var geolocation=function geolocation(success){if(navigator.geolocation){navigator.geolocation.watchPosition(success,geolocationError);}else{notify({value:'Geolocation not supported'});}};/**\r\n * Geolocation error\r\n */export var geolocationError=function geolocationError(_ref){var code=_ref.code;var message=code===1?\"Location permission denied\":code===2?'Location signal lost':code===3?'Location request timed out':code===0?'Unknown location error':null;notify({value:message});};/**\r\n * Returns human readable address from the given the \r\n * cordinates\r\n * @param {Object} pos\r\n */export var getAddress=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(pos){var _pos$coords,latitude,longitude,_yield$post,results,loc;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_pos$coords=pos.coords,latitude=_pos$coords.latitude,longitude=_pos$coords.longitude;_context.next=3;return post(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\".concat(latitude,\",\").concat(longitude,\"&key=\").concat(GOOGLE_GEOLOCATION_KEY));case 3:_yield$post=_context.sent;results=_yield$post.data.results;loc=results[0].formattted_address;return _context.abrupt(\"return\",loc);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getAddress(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/utils/location-utils.js"],"names":["post","notify","GOOGLE_GEOLOCATION_KEY","process","env","geolocation","success","navigator","watchPosition","geolocationError","value","code","message","getAddress","pos","coords","latitude","longitude","results","data","loc","formattted_address"],"mappings":"mVAAA,OAAQA,IAAR,KAAmB,OAAnB,CACA,OAAQC,MAAR,KAAqB,yCAArB,CAEA,GAAMC,CAAAA,sBAAsB,CAAGC,OAAO,CAACC,GAAR,CAAYF,sBAA3C,CAEA;;;GAIC,MAAO,IAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,OAAO,CAAI,CAClC,GAAGC,SAAS,CAACF,WAAb,CAAyB,CACrBE,SAAS,CAACF,WAAV,CAAsBG,aAAtB,CAAoCF,OAApC,CAA4CG,gBAA5C,EACH,CAFD,IAEK,CACJR,MAAM,CAAC,CAAES,KAAK,CAAE,2BAAT,CAAD,CAAN,CACA,CACJ,CANM,CAQR;;GAGC,MAAO,IAAMD,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAAY,IAAVE,CAAAA,IAAU,MAAVA,IAAU,CACxC,GAAIC,CAAAA,OAAO,CAAGD,IAAI,GAAK,CAAT,8BACZA,IAAI,GAAK,CAAT,CAAa,sBAAb,CACAA,IAAI,GAAK,CAAT,CAAa,4BAAb,CACAA,IAAI,GAAK,CAAT,CAAa,wBAAb,CACA,IAJF,CAMAV,MAAM,CAAC,CACHS,KAAK,CAAEE,OADJ,CAAD,CAAN,CAGH,CAVM,CAYR;;;;GAKC,MAAO,IAAMC,CAAAA,UAAU,2FAAG,iBAAMC,GAAN,yLACKA,GAAG,CAACC,MADT,CACjBC,QADiB,aACjBA,QADiB,CACRC,SADQ,aACRA,SADQ,uBAEQjB,CAAAA,IAAI,oEAA6DgB,QAA7D,aAAyEC,SAAzE,iBAA0Ff,sBAA1F,EAFZ,kCAEVgB,OAFU,aAEjBC,IAFiB,CAEVD,OAFU,CAGlBE,GAHkB,CAGZF,OAAO,CAAC,CAAD,CAAP,CAAWG,kBAHC,iCAIfD,GAJe,wDAAH,kBAAVP,CAAAA,UAAU,6CAAhB","sourcesContent":["import {post} from 'axios';\r\nimport {notify} from '../utils/utilMethods/handy-notification';\r\n\r\nconst GOOGLE_GEOLOCATION_KEY = process.env.GOOGLE_GEOLOCATION_KEY;\r\n\r\n/**\r\n * Geolocation setup\r\n * @param {Function} success Success function\r\n */\r\n export const geolocation = success => {\r\n     if(navigator.geolocation){\r\n         navigator.geolocation.watchPosition(success,geolocationError)\r\n     }else{\r\n      notify({ value: 'Geolocation not supported'})\r\n     }\r\n }\r\n \r\n/**\r\n * Geolocation error\r\n */\r\n export const geolocationError = ({code}) => {\r\n     let message = code === 1 ? `Location permission denied`\r\n     : code === 2 ? 'Location signal lost'\r\n     : code === 3 ? 'Location request timed out'\r\n     : code === 0 ? 'Unknown location error'\r\n     : null\r\n\r\n     notify({\r\n         value: message\r\n     })\r\n }\r\n\r\n/**\r\n * Returns human readable address from the given the \r\n * cordinates\r\n * @param {Object} pos\r\n */\r\n export const getAddress = async pos => {\r\n     let {latitude,longitude} = pos.coords;\r\n     let {data: {results}} = await post(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&key=${GOOGLE_GEOLOCATION_KEY}`);\r\n     let loc = results[0].formattted_address\r\n     return loc;\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}