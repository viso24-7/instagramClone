{"ast":null,"code":"import _defineProperty from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{FadeIn}from'animate-components';import Title from'../others/title';import IsLoading from'../others/isLoading';import AddEmojis from'../others/emojis/add-emojis';import PrimaryButton from'../others/button/primary-button';import{editProfile}from'../../utils/edit-profile-utils';import{cLoading}from'../../utils/utils';import{getUserDetails}from'../../actions/user';import{getUnreadNotifications}from'../../actions/notification';import{getUnreadMessages}from'../../actions/message';import SocialInputs from'./social-inputs.js';import ResendVerification from'./resend-vl';import BioInput from'./bio-input';import EditTags from'./edit-tags';import RequiredInputs from'./required-inputs';var EditProfile=/*#__PURE__*/function(_Component){_inherits(EditProfile,_Component);var _super=_createSuper(EditProfile);function EditProfile(){var _this;_classCallCheck(this,EditProfile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,username:'',firstname:'',surname:'',email:'',bio:'',instagram:'',github:'',twitter:'',facebook:'',website:'',phone:'',tags:[],addTag:''};_this.componentDidMount=function(){var _this$props=_this.props,dispatch=_this$props.dispatch,session=_this$props.session;dispatch(getUserDetails(session.username));dispatch(getUnreadNotifications());dispatch(getUnreadMessages());};_this.componentWillReceiveProps=function(_ref){var user_details=_ref.user_details,tags=_ref.tags;for(var key in user_details){_this.state[key]!==undefined&&_this.setState(_objectSpread(_objectSpread({loading:false},user_details),{},{tags:tags}));}};_this.change=function(what,e){return _this.setState(_defineProperty({},what,e.target.value));};_this.update=function(e){e.preventDefault();var _this$props$user_deta=_this.props.user_details,susername=_this$props$user_deta.username,semail=_this$props$user_deta.email;editProfile({susername:susername,semail:semail,values:_this.state});};return _this;}_createClass(EditProfile,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,username=_this$state.username,firstname=_this$state.firstname,surname=_this$state.surname,email=_this$state.email,bio=_this$state.bio,instagram=_this$state.instagram,github=_this$state.github,twitter=_this$state.twitter,facebook=_this$state.facebook,website=_this$state.website,phone=_this$state.phone,addTag=_this$state.addTag,tags=_this$state.tags,loading=_this$state.loading;var id=this.props.user_details.id;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Title,{value:\"Edit profile\",desc:\"Edit your profile,add tags and links\"}),/*#__PURE__*/React.createElement(IsLoading,{loading:loading,when:\"page\"}),/*#__PURE__*/React.createElement(FadeIn,{duration:\"300ms\",className:cLoading(loading)},/*#__PURE__*/React.createElement(\"div\",{className:\"edit_profile\"},/*#__PURE__*/React.createElement(\"div\",{className:\"edit_profile\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/users/\".concat(id,\"/avatar.jpg\"),alt:\"\"}),/*#__PURE__*/React.createElement(\"span\",null,\"@\",username))),/*#__PURE__*/React.createElement(\"div\",{className:\"edit_main\"},/*#__PURE__*/React.createElement(RequiredInputs,{fields:{username:username,firstname:firstname,surname:surname,email:email},change:this.change}),/*#__PURE__*/React.createElement(BioInput,{value:bio,change:this.change}),/*#__PURE__*/React.createElement(\"div\",{className:\"edit_update\"},/*#__PURE__*/React.createElement(AddEmojis,{position:{top:260,left:73},textArea:\".edit_ta\",updateTextArea:function updateTextArea(bio){return _this2.setState({bio:bio});}}),/*#__PURE__*/React.createElement(PrimaryButton,{label:\"Update Profile\",onClick:this.update,extraClass:\"edit_done\"}),/*#__PURE__*/React.createElement(ResendVerification,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"edit_tags\"},/*#__PURE__*/React.createElement(SocialInputs,{inputs:{instagram:instagram,github:github,twitter:twitter,facebook:facebook,website:website,phone:phone},change:this.change}),/*#__PURE__*/React.createElement(EditTags,{newTag:addTag,change:this.change,tags:tags,emptyTagsInput:function emptyTagsInput(){return _this2.setState({addTag:''});}}))));}}]);return EditProfile;}(Component);var mapStateToProps=function mapStateToProps(state){return{user_details:state.User.user_details,tags:state.User.tags,session:state.User.session};};export default connect(mapStateToProps)(EditProfile);","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/edit-profile/edit-profile.js"],"names":["React","Component","connect","FadeIn","Title","IsLoading","AddEmojis","PrimaryButton","editProfile","cLoading","getUserDetails","getUnreadNotifications","getUnreadMessages","SocialInputs","ResendVerification","BioInput","EditTags","RequiredInputs","EditProfile","state","loading","username","firstname","surname","email","bio","instagram","github","twitter","facebook","website","phone","tags","addTag","componentDidMount","props","dispatch","session","componentWillReceiveProps","user_details","key","undefined","setState","change","what","e","target","value","update","preventDefault","susername","semail","values","id","top","left","mapStateToProps","User"],"mappings":"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","sourcesContent":[" import React ,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {FadeIn} from 'animate-components';\r\n import Title from '../others/title';\r\n import IsLoading from '../others/isLoading';\r\n import AddEmojis from '../others/emojis/add-emojis';\r\n import PrimaryButton from '../others/button/primary-button';\r\n import {editProfile} from '../../utils/edit-profile-utils';\r\n import {cLoading} from '../../utils/utils';\r\n import {getUserDetails} from '../../actions/user';\r\n import {getUnreadNotifications} from '../../actions/notification';\r\n import {getUnreadMessages} from '../../actions/message';\r\n import SocialInputs from './social-inputs.js';\r\n import ResendVerification from './resend-vl';\r\n import BioInput from './bio-input';\r\n import EditTags from './edit-tags';\r\n import RequiredInputs from './required-inputs';\r\n\r\n class EditProfile extends Component{\r\n     state = {\r\n         loading: true,\r\n         username: '',\r\n         firstname: '',\r\n         surname: '',\r\n         email: '',\r\n         bio: '',\r\n         instagram: '',\r\n         github: '',\r\n         twitter: '',\r\n         facebook: '',\r\n         website: '',\r\n         phone: '',\r\n         tags: [],\r\n         addTag: ''\r\n     };\r\n\r\n     componentDidMount = () => {\r\n         let {dispatch,session} = this.props;\r\n         dispatch(getUserDetails(session.username));\r\n         dispatch(getUnreadNotifications());\r\n         dispatch(getUnreadMessages())\r\n     }\r\n\r\n     componentWillReceiveProps = ({user_details,tags}) => {\r\n          for(let key in user_details){\r\n              this.state[key] !== undefined && this.setState({loading:false,...user_details,tags});\r\n          }\r\n     }\r\n\r\n     change = (what,e) => this.setState({ [what]: e.target.value});\r\n\r\n     update = e => {\r\n         e.preventDefault();\r\n         let {user_details: {username: susername,email: semail}} = this.props;\r\n\r\n         editProfile({\r\n             susername,\r\n             semail,\r\n             values: this.state\r\n         })\r\n     }\r\n\r\n     render(){\r\n      let {username,firstname,surname,email,bio,instagram,github,twitter,facebook,website,phone,addTag,tags,loading} = this.state;\r\n      let {user_details: {id}} = this.props;\r\n\r\n       return (\r\n           <div>\r\n               <Title value=\"Edit profile\" desc=\"Edit your profile,add tags and links\" />\r\n               <IsLoading loading={loading} when=\"page\" />\r\n               <FadeIn duration=\"300ms\" className={cLoading(loading)}>\r\n                   <div className=\"edit_profile\">\r\n                       <div className=\"edit_profile\">\r\n                           <img src={`/users/${id}/avatar.jpg`} alt=\"\" />\r\n                           <span>@{username}</span>\r\n                       </div>\r\n                   </div>\r\n\r\n                   <div className=\"edit_main\">\r\n                       <RequiredInputs fields={{username,firstname,surname,email}} change={this.change} />\r\n                       <BioInput value={bio} change={this.change} />\r\n\r\n                       <div className=\"edit_update\">\r\n                           <AddEmojis position={{ top: 260, left: 73}}\r\n                                      textArea = \".edit_ta\"\r\n                                      updateTextArea = {bio => this.setState({bio})}\r\n                             />\r\n\r\n                            <PrimaryButton\r\n                                  label=\"Update Profile\"\r\n                                  onClick={this.update}\r\n                                  extraClass=\"edit_done\"\r\n                            />  \r\n\r\n                            <ResendVerification />        \r\n                       </div>\r\n                   </div>\r\n\r\n                   <div className=\"edit_tags\">\r\n                       <SocialInputs\r\n                           inputs={{\r\n                               instagram,\r\n                               github,\r\n                               twitter,\r\n                               facebook,\r\n                               website,\r\n                               phone\r\n                              }}\r\n                            change={this.change}   \r\n                       />\r\n\r\n                       <EditTags\r\n                          newTag={addTag}\r\n                          change={this.change}\r\n                          tags={tags}\r\n                          emptyTagsInput={() => this.setState({ addTag: ''})}\r\n                       />\r\n                   </div>\r\n               </FadeIn>\r\n           </div>\r\n       )\r\n     }\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     user_details: state.User.user_details,\r\n     tags: state.User.tags,\r\n     session: state.User.session\r\n })  \r\n\r\n export default connect(mapStateToProps)(EditProfile);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}