{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\post\\\\post\\\\post-top\\\\options\\\\deletePost.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\nimport { Me } from '../../../../../utils/utils';\nimport { isAdmin } from '../../../../../utils/admin-utils';\nimport { deletePost } from '../../../../../utils/post-utils';\nimport Prompt from '../../../../others/prompt';\nimport { number, string, func, shape } from 'prop-types';\n\nclass DeletePostOption extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      deletePost: false,\n      redirect: false\n    };\n\n    this.showDeletePost = e => {\n      e.preventDefault();\n      this.setState({\n        deletePost: true\n      });\n    };\n\n    this.delete = e => {\n      e.preventDefault();\n      let {\n        postDetails: {\n          post_id,\n          when\n        },\n        dispatch\n      } = this.props;\n      deletePost({\n        post_id,\n        when,\n        dispatch,\n        redirect: () => this.setState({\n          redirect: true\n        })\n      });\n    };\n\n    this.modalBack = () => {\n      this.props.toggleOptions();\n      this.setState({\n        deletePost: false\n      });\n    };\n  }\n\n  render() {\n    let {\n      deletePost,\n      redirect\n    } = this.state;\n    let {\n      user\n    } = this.props.postDetails;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 14\n      }\n    }, redirect && /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 31\n      }\n    }), (Me(user) || isAdmin()) && /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"delete_post\",\n      onClick: this.showDeletePost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 26\n      }\n    }, \"Delete post \", isAdmin() ? 'as admin' : '')), deletePost && /*#__PURE__*/React.createElement(Prompt, {\n      title: \"Delete post\",\n      content: \"This post will be deleted.There's no undo so you won't be able to find it.\",\n      actionText: \"Delete\",\n      action: this.delete,\n      back: this.modalBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 22\n      }\n    }));\n  }\n\n}\n\nDeletePostOption.propTypes = {\n  postDetails: shape({\n    user: number.isRequired,\n    post_id: number.isRequired,\n    when: string.isRequired\n  }).isRequired,\n  toggleOptions: func.isRequired\n};\nexport default connect()(DeletePostOption);\nexport { DeletePostOption as PureDeletePostOption };","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/post/post-top/options/deletePost.js"],"names":["React","Component","Fragment","connect","Redirect","Me","isAdmin","deletePost","Prompt","number","string","func","shape","DeletePostOption","state","redirect","showDeletePost","e","preventDefault","setState","delete","postDetails","post_id","when","dispatch","props","modalBack","toggleOptions","render","user","propTypes","isRequired","PureDeletePostOption"],"mappings":";AAAC,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,QAAR,QAAuB,cAAvB;AACA,SAAQC,EAAR,QAAiB,4BAAjB;AACA,SAAQC,OAAR,QAAsB,kCAAtB;AACA,SAAQC,UAAR,QAAyB,iCAAzB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAAQC,MAAR,EAAeC,MAAf,EAAsBC,IAAtB,EAA2BC,KAA3B,QAAuC,YAAvC;;AAEA,MAAMC,gBAAN,SAA+BZ,SAA/B,CAAwC;AAAA;AAAA;AAAA,SACpCa,KADoC,GAC5B;AACJP,MAAAA,UAAU,EAAE,KADR;AAEJQ,MAAAA,QAAQ,EAAE;AAFN,KAD4B;;AAAA,SAMpCC,cANoC,GAMnBC,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,QAAL,CAAc;AAAEZ,QAAAA,UAAU,EAAE;AAAd,OAAd;AACH,KATmC;;AAAA,SAWpCa,MAXoC,GAW1BH,CAAC,IAAI;AACXA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAI;AAACG,QAAAA,WAAW,EAAC;AAACC,UAAAA,OAAD;AAASC,UAAAA;AAAT,SAAb;AAA4BC,QAAAA;AAA5B,UAAwC,KAAKC,KAAjD;AACAlB,MAAAA,UAAU,CAAC;AACPe,QAAAA,OADO;AAEPC,QAAAA,IAFO;AAGPC,QAAAA,QAHO;AAIPT,QAAAA,QAAQ,EAAE,MAAM,KAAKI,QAAL,CAAc;AAAEJ,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AAJT,OAAD,CAAV;AAMH,KApBmC;;AAAA,SAsBpCW,SAtBoC,GAsBxB,MAAM;AACd,WAAKD,KAAL,CAAWE,aAAX;AACA,WAAKR,QAAL,CAAc;AAAEZ,QAAAA,UAAU,EAAE;AAAd,OAAd;AACH,KAzBmC;AAAA;;AA2BpCqB,EAAAA,MAAM,GAAE;AACJ,QAAI;AAACrB,MAAAA,UAAD;AAAYQ,MAAAA;AAAZ,QAAwB,KAAKD,KAAjC;AACA,QAAI;AAACe,MAAAA;AAAD,QAAS,KAAKJ,KAAL,CAAWJ,WAAxB;AAEA,wBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKN,QAAQ,iBAAI,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADjB,EAGK,CAACV,EAAE,CAACwB,IAAD,CAAF,IAAYvB,OAAO,EAApB,kBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,aAAtB;AAAoC,MAAA,OAAO,EAAE,KAAKU,cAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACiBV,OAAO,KAAK,UAAL,GAAkB,EAD1C,CADJ,CAJR,EAWKC,UAAU,iBACP,oBAAC,MAAD;AACG,MAAA,KAAK,EAAC,aADT;AAEG,MAAA,OAAO,EAAC,4EAFX;AAGG,MAAA,UAAU,EAAC,QAHd;AAIG,MAAA,MAAM,EAAE,KAAKa,MAJhB;AAKG,MAAA,IAAI,EAAE,KAAKM,SALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZR,CADJ;AAuBH;;AAtDmC;;AAyDxCb,gBAAgB,CAACiB,SAAjB,GAA6B;AACzBT,EAAAA,WAAW,EAAET,KAAK,CAAC;AACfiB,IAAAA,IAAI,EAAEpB,MAAM,CAACsB,UADE;AAEfT,IAAAA,OAAO,EAAEb,MAAM,CAACsB,UAFD;AAGfR,IAAAA,IAAI,EAAEb,MAAM,CAACqB;AAHE,GAAD,CAAL,CAIPA,UALmB;AAMzBJ,EAAAA,aAAa,EAAEhB,IAAI,CAACoB;AANK,CAA7B;AASA,eAAe5B,OAAO,GAAGU,gBAAH,CAAtB;AACA,SAAQA,gBAAgB,IAAImB,oBAA5B","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {Redirect} from 'react-router'\r\n import {Me} from '../../../../../utils/utils';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import {deletePost} from '../../../../../utils/post-utils'\r\n import Prompt from '../../../../others/prompt';\r\n import {number,string,func,shape} from 'prop-types' \r\n\r\n class DeletePostOption extends Component{\r\n     state = {\r\n         deletePost: false,\r\n         redirect: false\r\n     }\r\n\r\n     showDeletePost = e => {\r\n         e.preventDefault();\r\n         this.setState({ deletePost: true})\r\n     }\r\n\r\n     delete =  e => {\r\n         e.preventDefault();\r\n         let {postDetails:{post_id,when},dispatch} = this.props;\r\n         deletePost({\r\n             post_id,\r\n             when,\r\n             dispatch,\r\n             redirect: () => this.setState({ redirect: true })\r\n         })\r\n     }\r\n\r\n     modalBack = () => {\r\n         this.props.toggleOptions();\r\n         this.setState({ deletePost: false})\r\n     }\r\n\r\n     render(){\r\n         let {deletePost,redirect} = this.state;\r\n         let {user} = this.props.postDetails\r\n\r\n         return (\r\n             <Fragment>\r\n                 {redirect && <Redirect to=\"/\" />}\r\n\r\n                 {(Me(user) || isAdmin()) && (\r\n                     <li>\r\n                         <a href=\"#\" className=\"delete_post\" onClick={this.showDeletePost}>\r\n                             Delete post {isAdmin() ? 'as admin' : ''}\r\n                         </a>\r\n                     </li>\r\n                 )}\r\n\r\n                 {deletePost && (\r\n                     <Prompt\r\n                        title=\"Delete post\"\r\n                        content=\"This post will be deleted.There's no undo so you won't be able to find it.\"\r\n                        actionText=\"Delete\"\r\n                        action={this.delete}\r\n                        back={this.modalBack}\r\n                     />\r\n                 )}\r\n             </Fragment>\r\n         )\r\n     }\r\n }\r\n\r\n DeletePostOption.propTypes = {\r\n     postDetails: shape({\r\n         user: number.isRequired,\r\n         post_id: number.isRequired,\r\n         when: string.isRequired\r\n        }).isRequired,\r\n     toggleOptions: func.isRequired   \r\n }\r\n\r\n export default connect()(DeletePostOption)\r\n export {DeletePostOption as PureDeletePostOption}"]},"metadata":{},"sourceType":"module"}