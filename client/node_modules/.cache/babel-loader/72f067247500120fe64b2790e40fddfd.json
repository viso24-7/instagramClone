{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{post}from'axios';import{connect}from'react-redux';import*as PostUtils from'../../../utils/post-utils';import MaterialIcon from'../../others/icons/material-icon';var PostBookmark=/*#__PURE__*/function(_Component){_inherits(PostBookmark,_Component);var _super=_createSuper(PostBookmark);function PostBookmark(){var _this;_classCallCheck(this,PostBookmark);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={bookmarked:false};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var post_id,_yield$post,bookmarked;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:post_id=_this.props.postDetails.post_id;_context.next=3;return post('/api/bookmarked-or-not',{post_id:post_id});case 3:_yield$post=_context.sent;bookmarked=_yield$post.data.bookmarked;_this.setState({bookmarked:bookmarked});case 6:case\"end\":return _context.stop();}}},_callee);}));_this.bookmark=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var post_id;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:post_id=_this.props.postDetails.post_id;PostUtils.bookmark({post_id:post_id,done:function done(){return _this.setState({bookmarked:true});}});case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.unbookmark=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this$props,_this$props$postDetai,post_id,when,dispatch,id;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$props=_this.props,_this$props$postDetai=_this$props.postDetails,post_id=_this$props$postDetai.post_id,when=_this$props$postDetai.when,dispatch=_this$props.dispatch,id=_this$props.user_details.id;PostUtils.unbookmark({post_id:post_id,when:when,user:id,dispatch:dispatch,done:function done(){return _this.setState({bookmarked:false});}});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return _this;}_createClass(PostBookmark,[{key:\"render\",value:function render(){var bookmarked=this.props.bookmarked;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"p_bmrk_wra\"},bookmarked?/*#__PURE__*/React.createElement(\"span\",{className:\"p_bookmark undo_bookmark\",onClick:this.unbookmark,\"data-tip\":\"Undo bookmark\"},/*#__PURE__*/React.createElement(MaterialIcon,{icon:\"bookmark\"})):/*#__PURE__*/React.createElement(\"span\",{className:\"p_bookmark\",onClick:this.bookmark,\"data-tip\":\"Bookmark\"},/*#__PURE__*/React.createElement(MaterialIcon,{icon:\"bookmark_border\"}))));}}]);return PostBookmark;}(Component);var mapStateToProps=function mapStateToProps(state){return{user_details:state.User.user_details};};export default connect(mapStateToProps)(PostBookmark);export{PostBookmark as PurePostBookmark};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/bookmark/post-bookmark.js"],"names":["React","Component","Fragment","post","connect","PostUtils","MaterialIcon","PostBookmark","state","bookmarked","componentDidMount","post_id","props","postDetails","data","setState","bookmark","done","unbookmark","when","dispatch","id","user_details","user","mapStateToProps","User","PurePostBookmark"],"mappings":"++BAAC,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,OAAQC,IAAR,KAAmB,OAAnB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,2BAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,C,GAGMC,CAAAA,Y,mVACFC,K,CAAQ,CAAEC,UAAU,CAAE,KAAd,C,OAERC,iB,sEAAoB,sKACCC,OADD,CACa,MAAKC,KADlB,CACZC,WADY,CACCF,OADD,uBAEeR,CAAAA,IAAI,CAAC,wBAAD,CAA0B,CAACQ,OAAO,CAAPA,OAAD,CAA1B,CAFnB,kCAENF,UAFM,aAEZK,IAFY,CAENL,UAFM,CAGjB,MAAKM,QAAL,CAAc,CAAEN,UAAU,CAAVA,UAAF,CAAd,EAHiB,sD,SAMpBO,Q,sEAAW,oJACYL,OADZ,CACwB,MAAKC,KAD7B,CACFC,WADE,CACYF,OADZ,CAEPN,SAAS,CAACW,QAAV,CAAmB,CACfL,OAAO,CAAPA,OADe,CAEfM,IAAI,CAAE,sBAAM,OAAKF,QAAL,CAAc,CAAEN,UAAU,CAAE,IAAd,CAAd,CAAN,EAFS,CAAnB,EAFO,wD,SAQXS,U,sEAAa,mNACsD,MAAKN,KAD3D,mCACJC,WADI,CACUF,OADV,uBACUA,OADV,CACkBQ,IADlB,uBACkBA,IADlB,CACwBC,QADxB,aACwBA,QADxB,CAC+CC,EAD/C,aACiCC,YADjC,CAC+CD,EAD/C,CAEThB,SAAS,CAACa,UAAV,CAAqB,CACjBP,OAAO,CAAPA,OADiB,CAEjBQ,IAAI,CAAJA,IAFiB,CAGjBI,IAAI,CAAEF,EAHW,CAIjBD,QAAQ,CAARA,QAJiB,CAKjBH,IAAI,CAAE,sBAAM,OAAKF,QAAL,CAAc,CAAEN,UAAU,CAAE,KAAd,CAAd,CAAN,EALW,CAArB,EAFS,wD,iFAWL,IACCA,CAAAA,UADD,CACe,KAAKG,KADpB,CACCH,UADD,CAGJ,mBACI,oBAAC,QAAD,mBACI,2BAAK,SAAS,CAAC,YAAf,EACKA,UAAU,cACP,4BAAM,SAAS,CAAC,0BAAhB,CAA2C,OAAO,CAAE,KAAKS,UAAzD,CAAqE,WAAS,eAA9E,eACI,oBAAC,YAAD,EAAc,IAAI,CAAC,UAAnB,EADJ,CADO,cAKP,4BAAM,SAAS,CAAC,YAAhB,CAA6B,OAAO,CAAE,KAAKF,QAA3C,CAAqD,WAAS,UAA9D,eACI,oBAAC,YAAD,EAAc,IAAI,CAAC,iBAAnB,EADJ,CANR,CADJ,CADJ,CAeH,C,0BA9CsBf,S,EAwD3B,GAAMuB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAhB,KAAK,QAAK,CAC9Bc,YAAY,CAAEd,KAAK,CAACiB,IAAN,CAAWH,YADK,CAAL,EAA7B,CAIA,cAAelB,CAAAA,OAAO,CAACoB,eAAD,CAAP,CAAyBjB,YAAzB,CAAf,CACA,OAAQA,YAAY,GAAImB,CAAAA,gBAAxB","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {post} from 'axios';\r\n import {connect} from 'react-redux';\r\n import * as PostUtils from '../../../utils/post-utils';\r\n import MaterialIcon from '../../others/icons/material-icon';\r\n import {number,string,shape} from 'prop-types';\r\n\r\n class PostBookmark extends Component {\r\n     state = { bookmarked: false }\r\n\r\n     componentDidMount = async () => {\r\n        let {postDetails:{post_id}} = this.props;\r\n        let {data:{bookmarked}} = await post('/api/bookmarked-or-not',{post_id})\r\n        this.setState({ bookmarked})\r\n     }\r\n\r\n     bookmark = async () => {\r\n         let {postDetails: {post_id}} = this.props;\r\n         PostUtils.bookmark({\r\n             post_id,\r\n             done: () => this.setState({ bookmarked: true })\r\n         })\r\n     }\r\n\r\n     unbookmark = async () => {\r\n         let {postDetails: {post_id,when},dispatch,user_details:{id}} = this.props;\r\n         PostUtils.unbookmark({\r\n             post_id,\r\n             when,\r\n             user: id,\r\n             dispatch,\r\n             done: () => this.setState({ bookmarked: false})\r\n         })\r\n     }\r\n\r\n     render(){\r\n         let {bookmarked} = this.props;\r\n\r\n         return (\r\n             <Fragment>\r\n                 <div className=\"p_bmrk_wra\">\r\n                     {bookmarked ? (\r\n                         <span className=\"p_bookmark undo_bookmark\" onClick={this.unbookmark} data-tip=\"Undo bookmark\">\r\n                             <MaterialIcon icon=\"bookmark\" />\r\n                         </span>\r\n                     ) : (\r\n                         <span className=\"p_bookmark\" onClick={this.bookmark} data-tip=\"Bookmark\">\r\n                             <MaterialIcon icon=\"bookmark_border\" />\r\n                         </span>\r\n                     )}\r\n                 </div>\r\n             </Fragment>\r\n         )\r\n     }\r\n }\r\n\r\n PostBookmark.propTypes = {\r\n     postDetails: shape({\r\n         post_id: number.isRequired,\r\n         when: string.isRequired\r\n     }).isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     user_details: state.User.user_details\r\n })\r\n\r\n export default connect(mapStateToProps)(PostBookmark);\r\n export {PostBookmark as PurePostBookmark}"]},"metadata":{},"sourceType":"module"}