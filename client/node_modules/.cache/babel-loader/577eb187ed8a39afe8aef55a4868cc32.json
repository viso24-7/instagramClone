{"ast":null,"code":"import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{FadeIn}from'animate-components';import{getUnreadMessages}from'../../actions/message';import{getUnreadNotifications}from'../../actions/notification';import{isAdmin}from'../../utils/admin-utils';import{forProfile,isPrivate,humanReadable,cLoading}from'../../utils/utils';import ProfileNav from'./nav';import ProfileRoutes from'./profile-routers';import Banner from'./banner/banner';import Title from'../others/title';import Nothing from'../others/nothing';import IsLoading from'../others/isLoading';var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true};_this.inv_error=function(){return _this.props.history.push('/error/user');};_this.componentWillReceiveProps=function(_ref){var dispatch=_ref.dispatch,match=_ref.match;if(_this.props.match.url!=match.url){forProfile({dispatch:dispatch,username:match.params.username,invalidUser:_this.inv_error});}_this.setState({loading:false});};_this.componentDidMount=function(){var _this$props=_this.props,username=_this$props.match.params,dispatch=_this$props.dispatch;forProfile({dispatch:dispatch,username:username,invalidUser:_this.inv_error});dispatch(getUnreadNotifications());dispatch(getUnreadMessages());};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var loading=this.state.loading;var _this$props2=this.props,_this$props2$match=_this$props2.match,url=_this$props2$match.url,username=_this$props2$match.params.username,_this$props2$user_det=_this$props2.user_details,id=_this$props2$user_det.id,firstname=_this$props2$user_det.firstname,surname=_this$props2$user_det.surname,account_type=_this$props2$user_det.account_type,isFollowing=_this$props2.isFollowing,mutuals=_this$props2.mutuals;var notPrivate=!isPrivate(id,isFollowing,account_type);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Title,{value:\"@\".concat(username,\" (\").concat(firstname,\" \").concat(surname,\")\"),desc:\"Connect with \".concat(username,\"'s profile\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-data\",id:\"profile-data\",\"data-get-username\":username,\"data-getid\":id},/*#__PURE__*/React.createElement(IsLoading,{loading:loading,when:\"page\"}),/*#__PURE__*/React.createElement(FadeIn,{duration:\"300ms\",className:cLoading(loading)},/*#__PURE__*/React.createElement(Banner,null),notPrivate||isAdmin()?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ProfileNav,{url:url,user:id}),/*#__PURE__*/React.createElement(ProfileRoutes,{url:url,param:username})):/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:85}},/*#__PURE__*/React.createElement(Nothing,{message:\"Account is private.Follow to connect with \".concat(username),secondMessage:mutuals.length!=0?humanReadable(mutuals.length,'mutual follower'):''})))));}}]);return Profile;}(Component);var mapStateToProps=function mapStateToProps(state){return{user_details:state.User.user_details,mutuals:state.User.mutualUsers,isFollowing:state.Follow.isFollowing};};export default connect(mapStateToProps)(Profile);export{Profile as PureProfile};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/profile/profile.js"],"names":["React","Component","connect","FadeIn","getUnreadMessages","getUnreadNotifications","isAdmin","forProfile","isPrivate","humanReadable","cLoading","ProfileNav","ProfileRoutes","Banner","Title","Nothing","IsLoading","Profile","state","loading","inv_error","props","history","push","componentWillReceiveProps","dispatch","match","url","username","params","invalidUser","setState","componentDidMount","user_details","id","firstname","surname","account_type","isFollowing","mutuals","notPrivate","marginTop","length","mapStateToProps","User","mutualUsers","Follow","PureProfile"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {FadeIn} from 'animate-components';\r\n import {getUnreadMessages} from '../../actions/message';\r\n import {getUnreadNotifications} from '../../actions/notification';\r\n import {isAdmin} from '../../utils/admin-utils';\r\n import {forProfile,isPrivate,humanReadable,cLoading} from '../../utils/utils';\r\n import ProfileNav from './nav';\r\n import ProfileRoutes from './profile-routers'\r\n import Banner from './banner/banner';\r\n import Title from '../others/title';\r\n import Nothing from '../others/nothing';\r\n import IsLoading from '../others/isLoading';\r\n\r\n class Profile extends Component {\r\n     state = { loading: true }\r\n\r\n     inv_error = () => this.props.history.push('/error/user')\r\n\r\n     componentWillReceiveProps = ({dispatch,match}) => {\r\n         if(this.props.match.url != match.url){\r\n             forProfile({\r\n                 dispatch,\r\n                 username: match.params.username,\r\n                 invalidUser: this.inv_error\r\n             })\r\n           }\r\n         this.setState({ loading: false })\r\n     }\r\n\r\n     componentDidMount = () => {\r\n         let {match:{params:username},dispatch} = this.props;\r\n         forProfile({dispatch,username,invalidUser: this.inv_error})\r\n         dispatch(getUnreadNotifications())\r\n         dispatch(getUnreadMessages())\r\n     }\r\n\r\n     render(){\r\n         let {loading} = this.state;\r\n         let {\r\n              match:{url,params:{username}},\r\n              user_details: {id,firstname,surname,account_type},\r\n              isFollowing,\r\n              mutuals\r\n            } = this.props;\r\n         let notPrivate = !isPrivate(id,isFollowing,account_type)\r\n\r\n         return (\r\n             <div>\r\n                 <Title value={`@${username} (${firstname} ${surname})`} desc={`Connect with ${username}'s profile`} />\r\n\r\n                 <div className=\"profile-data\" id=\"profile-data\" data-get-username={username} data-getid={id}>\r\n                     <IsLoading loading={loading} when=\"page\" />\r\n\r\n                     <FadeIn duration=\"300ms\" className={cLoading(loading)}>\r\n                        <Banner />\r\n                        {notPrivate || isAdmin() ? (\r\n                            <div>\r\n                                <ProfileNav url={url} user={id} />\r\n                                <ProfileRoutes url={url} param={username} />\r\n                            </div>\r\n                        ) : (\r\n                            <div style={{ marginTop: 85}}>\r\n                                <Nothing message={`Account is private.Follow to connect with ${username}`} secondMessage={mutuals.length != 0 ? humanReadable(mutuals.length,'mutual follower') : ''} />\r\n                            </div>\r\n                        )}\r\n                     </FadeIn>\r\n                 </div>\r\n             </div>\r\n         )\r\n     }\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     user_details: state.User.user_details,\r\n     mutuals: state.User.mutualUsers,\r\n     isFollowing: state.Follow.isFollowing\r\n })\r\n\r\n export default connect(mapStateToProps)(Profile)\r\n export {Profile as PureProfile}"]},"metadata":{},"sourceType":"module"}