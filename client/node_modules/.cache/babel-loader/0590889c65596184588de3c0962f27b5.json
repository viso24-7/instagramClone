{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\others\\\\follow\\\\advancedUnfollow.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Me } from '../../../utils/utils';\nimport { unfollow } from '../../../utils/user-interact-utils';\nimport PrimaryButton from '../button/primary-button';\nimport { number, func } from 'prop-types';\n\nconst AdvancedUnfollow = ({\n  user,\n  unfollowed,\n  user_details,\n  dispatch\n}) => {\n  let {\n    id\n  } = user_details;\n\n  let unfollowUser = e => {\n    e.preventDefault();\n    let profile_page = window.location.pathname.includes('/profile');\n    let def = {\n      user,\n      done: () => unfollowed()\n    };\n    let obj;\n\n    if (!profile_page) {\n      obj = def;\n    } else {\n      if (Me(id)) {\n        obj = { ...def,\n          dispatch,\n          update_followings: true\n        };\n      } else if (user == id) {\n        obj = { ...def,\n          dispatch,\n          update_followers: true\n        };\n      } else {\n        obj = def;\n      }\n    }\n\n    unfollow(obj);\n  };\n\n  return /*#__PURE__*/React.createElement(PrimaryButton, {\n    label: \"Unfollow\",\n    onClick: unfollowUser,\n    extraClass: \"unfollow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 10\n    }\n  });\n};\n\nAdvancedUnfollow.propTypes = {\n  user: number.isRequired,\n  unfollowed: func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user_details: state.User.user_details\n});\n\nexport default connect(mapStateToProps)(AdvancedUnfollow);","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/others/follow/advancedUnfollow.js"],"names":["React","connect","Me","unfollow","PrimaryButton","number","func","AdvancedUnfollow","user","unfollowed","user_details","dispatch","id","unfollowUser","e","preventDefault","profile_page","window","location","pathname","includes","def","done","obj","update_followings","update_followers","propTypes","isRequired","mapStateToProps","state","User"],"mappings":";AAAC,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,EAAR,QAAiB,sBAAjB;AACA,SAAQC,QAAR,QAAuB,oCAAvB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,SAAQC,MAAR,EAAeC,IAAf,QAA0B,YAA1B;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAMC,EAAAA,UAAN;AAAiBC,EAAAA,YAAjB;AAA8BC,EAAAA;AAA9B,CAAD,KAA6C;AAChE,MAAI;AAACC,IAAAA;AAAD,MAAOF,YAAX;;AAEA,MAAIG,YAAY,GAAGC,CAAC,IAAI;AACpBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,YAAY,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,QAAzB,CAAkC,UAAlC,CAAnB;AACA,QAAIC,GAAG,GAAG;AAACb,MAAAA,IAAD;AAAMc,MAAAA,IAAI,EAAE,MAAMb,UAAU;AAA5B,KAAV;AACA,QAAIc,GAAJ;;AAEA,QAAG,CAACP,YAAJ,EAAiB;AACbO,MAAAA,GAAG,GAACF,GAAJ;AACH,KAFD,MAEO;AACH,UAAGnB,EAAE,CAACU,EAAD,CAAL,EAAU;AACNW,QAAAA,GAAG,GAAG,EAAE,GAAGF,GAAL;AAASV,UAAAA,QAAT;AAAkBa,UAAAA,iBAAiB,EAAE;AAArC,SAAN;AACH,OAFD,MAEO,IAAGhB,IAAI,IAAII,EAAX,EAAc;AACjBW,QAAAA,GAAG,GAAG,EAAC,GAAGF,GAAJ;AAAQV,UAAAA,QAAR;AAAiBc,UAAAA,gBAAgB,EAAC;AAAlC,SAAN;AACH,OAFM,MAEA;AACHF,QAAAA,GAAG,GAAGF,GAAN;AACH;AACJ;;AAEDlB,IAAAA,QAAQ,CAACoB,GAAD,CAAR;AACH,GAnBD;;AAqBF,sBACI,oBAAC,aAAD;AACI,IAAA,KAAK,EAAC,UADV;AAEI,IAAA,OAAO,EAAEV,YAFb;AAGI,IAAA,UAAU,EAAC,UAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAOH,CA/BD;;AAiCAN,gBAAgB,CAACmB,SAAjB,GAA6B;AACzBlB,EAAAA,IAAI,EAAEH,MAAM,CAACsB,UADY;AAEzBlB,EAAAA,UAAU,EAAEH,IAAI,CAACqB;AAFQ,CAA7B;;AAKA,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAC9BnB,EAAAA,YAAY,EAAEmB,KAAK,CAACC,IAAN,CAAWpB;AADK,CAAL,CAA7B;;AAIA,eAAeT,OAAO,CAAC2B,eAAD,CAAP,CAAyBrB,gBAAzB,CAAf","sourcesContent":[" import React from 'react';\r\n import {connect} from 'react-redux';\r\n import {Me} from '../../../utils/utils';\r\n import {unfollow} from '../../../utils/user-interact-utils';\r\n import PrimaryButton from '../button/primary-button';\r\n import {number,func} from 'prop-types';\r\n \r\n const AdvancedUnfollow = ({user,unfollowed,user_details,dispatch}) => {\r\n       let {id} = user_details;\r\n\r\n       let unfollowUser = e => {\r\n           e.preventDefault();\r\n           let profile_page = window.location.pathname.includes('/profile');\r\n           let def = {user,done: () => unfollowed() }\r\n           let obj;\r\n\r\n           if(!profile_page){\r\n               obj=def\r\n           } else {\r\n               if(Me(id)){\r\n                   obj = { ...def,dispatch,update_followings: true}\r\n               } else if(user == id){\r\n                   obj = {...def,dispatch,update_followers:true}\r\n               } else {\r\n                   obj = def\r\n               }\r\n           }\r\n\r\n           unfollow(obj)\r\n       }\r\n\r\n     return (\r\n         <PrimaryButton\r\n             label=\"Unfollow\"\r\n             onClick={unfollowUser}\r\n             extraClass=\"unfollow\"\r\n         />\r\n     )  \r\n }\r\n\r\n AdvancedUnfollow.propTypes = {\r\n     user: number.isRequired,\r\n     unfollowed: func.isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     user_details: state.User.user_details\r\n })\r\n\r\n export default connect(mapStateToProps)(AdvancedUnfollow)"]},"metadata":{},"sourceType":"module"}