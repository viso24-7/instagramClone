{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{share,unshare}from'../../../../utils/post-utils';import ModalItemInfo from'../../../others/modal/modal-item-info';import PrimaryButton from'../../../others/button/primary-button';import SecondaryButton from'../../../others/button/secondary-button';var ShareList=/*#__PURE__*/function(_Component){_inherits(ShareList,_Component);var _super=_createSuper(ShareList);function ShareList(){var _this;_classCallCheck(this,ShareList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={didIShare:false};_this.componentWillReceiveProps=function(_ref){var didIShare=_ref.didIShare;return _this.props.didIShare!=didIShare?_this.setState({didIShare:didIShare}):null;};_this.componentDidMount=function(){return _this.setState({didIShare:_this.props.didIShare});};_this.share=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$props,follow_to,post,incrementShares,postOwner;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$props=_this.props,follow_to=_this$props.follow_to,post=_this$props.post,incrementShares=_this$props.incrementShares,postOwner=_this$props.postOwner;share({user:follow_to,post_id:post,postOwner:postOwner,done:function done(){incrementShares();_this.setState({didIShare:true});}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.unshare=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _this$props2,follow_to,post_id,decrementShares;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_this$props2=_this.props,follow_to=_this$props2.follow_to,post_id=_this$props2.post,decrementShares=_this$props2.decrementShares;unshare({user:follow_to,post_id:post_id,done:function done(){_this.setState({didIShare:false});decrementShares();}});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}();return _this;}_createClass(ShareList,[{key:\"render\",value:function render(){var didIShare=this.state.didIShare;var _this$props3=this.props,follow_to=_this$props3.follow_to,username=_this$props3.username,firstname=_this$props3.firstname,surname=_this$props3.surname;return/*#__PURE__*/React.createElement(\"div\",{className:\"modal_items\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal_it_img\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/users/\".concat(follow_to,\"/avatar.jpg\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal_it_content\"},/*#__PURE__*/React.createElement(ModalItemInfo,{info:{username:username,firstname:firstname,surname:surname}}),/*#__PURE__*/React.createElement(\"div\",{className:\"modal_ff\"},didIShare?/*#__PURE__*/React.createElement(SecondaryButton,{label:\"Unshare\",onClick:this.unshare,extraClass:\"share_btn\"}):/*#__PURE__*/React.createElement(PrimaryButton,{label:\"Share\",onClick:this.share,extraClass:\"share_btn\"}))),/*#__PURE__*/React.createElement(\"hr\",null));}}]);return ShareList;}(Component);export{ShareList as default};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/share/share/share-list.js"],"names":["React","Component","share","unshare","ModalItemInfo","PrimaryButton","SecondaryButton","ShareList","state","didIShare","componentWillReceiveProps","props","setState","componentDidMount","e","preventDefault","follow_to","post","incrementShares","postOwner","user","post_id","done","decrementShares","username","firstname","surname"],"mappings":"++BAAC,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAAQC,KAAR,CAAcC,OAAd,KAA4B,8BAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,uCAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,uCAA1B,CACA,MAAOC,CAAAA,eAAP,KAA4B,yCAA5B,C,GAGqBC,CAAAA,S,uUACjBC,K,CAAQ,CAAEC,SAAS,CAAE,KAAb,C,OAERC,yB,CAA4B,kBAAGD,CAAAA,SAAH,MAAGA,SAAH,OAAmB,OAAKE,KAAL,CAAWF,SAAX,EAAwBA,SAAxB,CAAoC,MAAKG,QAAL,CAAc,CAACH,SAAS,CAATA,SAAD,CAAd,CAApC,CAAiE,IAApF,E,OAE5BI,iB,CAAoB,iBAAM,OAAKD,QAAL,CAAc,CAAEH,SAAS,CAAE,MAAKE,KAAL,CAAWF,SAAxB,CAAd,CAAN,E,OAEpBP,K,2FAAQ,iBAAMY,CAAN,2KACLA,CAAC,CAACC,cAAF,GADK,YAE4C,MAAKJ,KAFjD,CAEAK,SAFA,aAEAA,SAFA,CAEUC,IAFV,aAEUA,IAFV,CAEeC,eAFf,aAEeA,eAFf,CAE+BC,SAF/B,aAE+BA,SAF/B,CAGLjB,KAAK,CAAC,CACFkB,IAAI,CAAEJ,SADJ,CAEFK,OAAO,CAAEJ,IAFP,CAGFE,SAAS,CAATA,SAHE,CAIFG,IAAI,CAAE,eAAM,CACRJ,eAAe,GACf,MAAKN,QAAL,CAAc,CAAEH,SAAS,CAAE,IAAb,CAAd,EACH,CAPC,CAAD,CAAL,CAHK,sD,sEAcRN,O,2FAAU,kBAAMW,CAAN,yKACNA,CAAC,CAACC,cAAF,GADM,aAEyC,MAAKJ,KAF9C,CAEDK,SAFC,cAEDA,SAFC,CAEcK,OAFd,cAESJ,IAFT,CAEsBM,eAFtB,cAEsBA,eAFtB,CAGNpB,OAAO,CAAC,CACJiB,IAAI,CAAEJ,SADF,CAEJK,OAAO,CAAPA,OAFI,CAGJC,IAAI,CAAE,eAAM,CACR,MAAKV,QAAL,CAAc,CAAEH,SAAS,CAAE,KAAb,CAAd,EACAc,eAAe,GAClB,CANG,CAAD,CAAP,CAHM,wD,4IAaF,IACCd,CAAAA,SADD,CACc,KAAKD,KADnB,CACCC,SADD,kBAEyC,KAAKE,KAF9C,CAECK,SAFD,cAECA,SAFD,CAEWQ,QAFX,cAEWA,QAFX,CAEoBC,SAFpB,cAEoBA,SAFpB,CAE8BC,OAF9B,cAE8BA,OAF9B,CAIJ,mBACI,2BAAK,SAAS,CAAC,aAAf,eACI,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,GAAG,kBAAYV,SAAZ,eAAR,EADJ,CADJ,cAKI,2BAAK,SAAS,CAAC,kBAAf,eACI,oBAAC,aAAD,EAAe,IAAI,CAAE,CAAEQ,QAAQ,CAARA,QAAF,CAAWC,SAAS,CAATA,SAAX,CAAqBC,OAAO,CAAPA,OAArB,CAArB,EADJ,cAGI,2BAAK,SAAS,CAAC,UAAf,EACKjB,SAAS,cACN,oBAAC,eAAD,EACG,KAAK,CAAC,SADT,CAEG,OAAO,CAAE,KAAKN,OAFjB,CAGG,UAAU,CAAC,WAHd,EADM,cAON,oBAAC,aAAD,EACI,KAAK,CAAC,OADV,CAEI,OAAO,CAAE,KAAKD,KAFlB,CAGI,UAAU,CAAC,WAHf,EARR,CAHJ,CALJ,cAwBG,8BAxBH,CADJ,CA4BH,C,uBAlEkCD,S,SAAlBM,S","sourcesContent":[" import React,{Component} from 'react';\r\n import {share,unshare} from '../../../../utils/post-utils';\r\n import ModalItemInfo from '../../../others/modal/modal-item-info';\r\n import PrimaryButton from '../../../others/button/primary-button';\r\n import SecondaryButton from '../../../others/button/secondary-button';\r\n import {number,string,bool} from 'prop-types';\r\n\r\n export default class ShareList extends Component {\r\n     state = { didIShare: false }\r\n\r\n     componentWillReceiveProps = ({ didIShare }) => this.props.didIShare != didIShare ? this.setState({didIShare}) : null\r\n\r\n     componentDidMount = () => this.setState({ didIShare: this.props.didIShare})\r\n\r\n     share = async e => {\r\n        e.preventDefault();\r\n        let {follow_to,post,incrementShares,postOwner} = this.props;\r\n        share({\r\n            user: follow_to,\r\n            post_id: post,\r\n            postOwner,\r\n            done: () => {\r\n                incrementShares()\r\n                this.setState({ didIShare: true })\r\n            }\r\n        })\r\n     }\r\n\r\n     unshare = async e => {\r\n         e.preventDefault();\r\n         let {follow_to,post:post_id,decrementShares} = this.props;\r\n         unshare({\r\n             user: follow_to,\r\n             post_id,\r\n             done: () => {\r\n                 this.setState({ didIShare: false })\r\n                 decrementShares()\r\n             }\r\n         })\r\n     }\r\n\r\n     render(){\r\n         let {didIShare} = this.state;\r\n         let {follow_to,username,firstname,surname} = this.props;\r\n\r\n         return (\r\n             <div className=\"modal_items\">\r\n                 <div className=\"modal_it_img\">\r\n                     <img src={`/users/${follow_to}/avatar.jpg`} />\r\n                 </div>\r\n\r\n                 <div className=\"modal_it_content\">\r\n                     <ModalItemInfo info={{ username,firstname,surname}} />\r\n\r\n                     <div className=\"modal_ff\">\r\n                         {didIShare ? (\r\n                             <SecondaryButton\r\n                                label=\"Unshare\"\r\n                                onClick={this.unshare}\r\n                                extraClass=\"share_btn\"\r\n                             />\r\n                         ) : (\r\n                             <PrimaryButton\r\n                                 label=\"Share\"\r\n                                 onClick={this.share}\r\n                                 extraClass=\"share_btn\"\r\n                             />\r\n                         )}\r\n                     </div>\r\n                 </div>\r\n                <hr />\r\n             </div>\r\n         )\r\n     }\r\n }\r\n\r\n ShareList.propTypes = {\r\n     follow_id: number.isRequired,\r\n     follow_to: number.isRequired,\r\n     username: string.isRequired,\r\n     firstname: string.isRequired,\r\n     surname: string.isRequired,\r\n     post: number.isRequired,\r\n     postOwner: number.isRequired,\r\n     didIShare: bool.isRequired\r\n }"]},"metadata":{},"sourceType":"module"}