{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{post}from'axios';import{uniqBy}from'lodash';import d from'../../../utils/api/Dom';import TextInput from'../input/text';import MapSearchForFollowingsUsers from'./map-users';var SearchFollowings=/*#__PURE__*/function(_Component){_inherits(SearchFollowings,_Component);var _super=_createSuper(SearchFollowings);function SearchFollowings(){var _this;_classCallCheck(this,SearchFollowings);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={value:'',data:[],followings:[],selected:[]};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:new d('.p_add_taggings_text').focus();_context.next=3;return post('/api/serach-followings');case 3:_yield$post=_context.sent;data=_yield$post.data;_context.next=7;return _this.setState({data:data});case 7:case\"end\":return _context.stop();}}},_callee);}));_this.getFollowings=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var value,data,ff;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:value=e.target.value.trim(),data=_this.state.data,ff=!value?[]:data.filter(function(d){return d.follow_to_username.toLowerCase().includes(value);});_context2.next=3;return _this.setState({value:value,followings:ff});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.selectUser=function(user,username){var selected=_this.state.selected,_this$props=_this.props,when=_this$props.when,done=_this$props.done;selected.unshift({user:user,username:username});_this.setState({selected:selected,value:'',followings:[]});new d('.p_add_taggings_text').focus();var f_users=uniqBy(selected,'username');_this.setState({selected:f_users});// eslint-disable indent(a space left by indenting a line or block of text) \nif(when==='tag'){done(f_users);}else if(when==='add_grp_members'){done(user);}else if(when==='new_con'){done(user,username);}};return _this;}_createClass(SearchFollowings,[{key:\"render\",value:function render(){var _this$state=this.state,value=_this$state.value,followings=_this$state.followings;var _this$props2=this.props,placeholder=_this$props2.placeholder,disabled=_this$props2.disabled;return/*#__PURE__*/React.createElement(\"div\",{className:\"search_followings\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p_add_taggings\"},/*#__PURE__*/React.createElement(TextInput,{className:\"p_add_taggings_text\",placeholder:placeholder,disabled:disabled,value:value,valueChange:this.getFollowings})),/*#__PURE__*/React.createElement(MapSearchForFollowingsUsers,{followings:followings,selectUser:this.selectUser}));}}]);return SearchFollowings;}(Component);SearchFollowings.defaultProps={placeholder:'Search',disabled:false};export default SearchFollowings;","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/others/serach-followings/serach-followings.js"],"names":["React","Component","post","uniqBy","d","TextInput","MapSearchForFollowingsUsers","SearchFollowings","state","value","data","followings","selected","componentDidMount","focus","setState","getFollowings","e","target","trim","ff","filter","follow_to_username","toLowerCase","includes","selectUser","user","username","props","when","done","unshift","f_users","placeholder","disabled","defaultProps"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {post} from 'axios';\r\n import {uniqBy} from 'lodash';\r\n import d from '../../../utils/api/Dom';\r\n import TextInput from '../input/text';\r\n import MapSearchForFollowingsUsers from './map-users';\r\n import {string,bool,func,oneOf} from 'prop-types';\r\n\r\n  class SearchFollowings extends Component {\r\n      state = {\r\n          value: '',\r\n          data: [],\r\n          followings: [],\r\n          selected: []\r\n        }\r\n \r\n     componentDidMount = async () => {\r\n         new d('.p_add_taggings_text').focus();\r\n         let {data} = await post('/api/serach-followings')\r\n         await this.setState({data})\r\n     }   \r\n\r\n     getFollowings = async e => {\r\n         let value = e.target.value.trim(),\r\n             {data} = this.state,\r\n              ff = !value ? [] : data.filter(d => d.follow_to_username.toLowerCase().includes(value));\r\n\r\n        await this.setState({\r\n            value,\r\n            followings: ff\r\n        })      \r\n     }\r\n\r\n     selectUser = (user,username) => {\r\n            let {selected} = this.state,\r\n               {when,done} = this.props;\r\n\r\n           selected.unshift({user,username});\r\n           this.setState({\r\n               selected,\r\n               value: '',\r\n               followings: []\r\n           })    \r\n\r\n          new d('.p_add_taggings_text').focus()\r\n          let f_users = uniqBy(selected,'username');\r\n          this.setState({ selected: f_users })\r\n\r\n          // eslint-disable indent(a space left by indenting a line or block of text) \r\n          if(when === 'tag'){\r\n               done(f_users);\r\n           } else if(when === 'add_grp_members'){\r\n               done(user);\r\n           } else if(when === 'new_con'){\r\n              done(user,username);\r\n          }    \r\n     }\r\n     \r\n\r\n     render(){\r\n         let {value,followings} = this.state;\r\n         let {placeholder,disabled} = this.props;\r\n\r\n        return (\r\n            <div className=\"search_followings\">\r\n                <div className=\"p_add_taggings\">\r\n                    <TextInput\r\n                        className=\"p_add_taggings_text\"\r\n                        placeholder={placeholder}\r\n                        disabled={disabled}\r\n                        value={value}\r\n                        valueChange={this.getFollowings}\r\n                    />\r\n                </div>\r\n\r\n                <MapSearchForFollowingsUsers\r\n                       followings={followings}\r\n                       selectUser={this.selectUser}\r\n                />\r\n            </div>\r\n        ) \r\n     }   \r\n  }\r\n\r\n  SearchFollowings.defaultProps = {\r\n      placeholder: 'Search',\r\n      disabled: false\r\n  }\r\n\r\n  SearchFollowings.propTypes = {\r\n      when: oneOf(['tag','add_grp_members','new_con']).isRequired,\r\n      done: func.isRequired,\r\n      placeholder: string,\r\n      disabled: bool\r\n  }\r\n\r\n  export default SearchFollowings;"]},"metadata":{},"sourceType":"module"}