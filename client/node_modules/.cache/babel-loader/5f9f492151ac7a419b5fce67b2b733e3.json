{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{post}from'axios';import{FadeIn}from'animate-components';import{notify}from'../../../../utils/utilMethods/handy-notification';import Overlay from'../../../others/overlay';import TextArea from'../../../others/input/textArea';import PrimaryButton from'../../../others/button/primary-button';import ModalHeader from'../../../others/modal/modal-header';import ModalBack from'../../../others/modal/modal-back';import AddEmojis from'../../../others/emojis/add-emojis';var Edit=/*#__PURE__*/function(_Component){_inherits(Edit,_Component);var _super=_createSuper(Edit);function Edit(){var _this;_classCallCheck(this,Edit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={message:'',ogMessage:''};_this.componentDidMount=function(){var message=_this.state.message;_this.setState({message:message,ogMessage:message});};_this.descrChange=function(_ref){var value=_ref.target.value;_this.setState({message:value});_this.props.changeMessage(value);};_this.returnOnMessage=function(){var ogMessage=_this.state.ogMessage;_this.props.changeMessage(ogMessage);};_this.back=function(){var back=_this.state.back;_this.returnOnMessage();back();};_this.updateMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var message,_this$props,message_id,back,_yield$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();message=_this.state.message;_this$props=_this.props,message_id=_this$props.message_id,back=_this$props.back;_context.next=5;return post('/api/edit-message',{message:message,message_id:message_id});case 5:_yield$post=_context.sent;data=_yield$post.data;data.success?back():_this.returnOnMessage();notify({value:data.message});case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(Edit,[{key:\"render\",value:function render(){var _this2=this;var message=this.state.message;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Overlay,null),/*#__PURE__*/React.createElement(\"div\",{className:\"edit_post modal\"},/*#__PURE__*/React.createElement(FadeIn,{duration:\"300ms\"},/*#__PURE__*/React.createElement(ModalHeader,{title:\"Edit message\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"e_p_middle modal_middle\"},/*#__PURE__*/React.createElement(TextArea,{placeholder:\"message ...\",className:\"e_p_textarea\",value:message,valueChange:this.descrChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"e_p_bottom modal_bottom\"},/*#__PURE__*/React.createElement(AddEmojis,{position:{top:-30,left:-217},textArea:\".e_p_textarea\",updateTextArea:function updateTextArea(value){return _this2.setState({message:value});},recenterEmojis:true}),/*#__PURE__*/React.createElement(ModalBack,{back:this.back,btnType:\"secondary\",disabled:!message}),/*#__PURE__*/React.createElement(PrimaryButton,{label:\"Update message\",onClick:this.updateMessage,disabled:!message})))));}}]);return Edit;}(Component);export{Edit as default};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/messages/conversation/message/edit.js"],"names":["React","Component","post","FadeIn","notify","Overlay","TextArea","PrimaryButton","ModalHeader","ModalBack","AddEmojis","Edit","state","message","ogMessage","componentDidMount","setState","descrChange","value","target","props","changeMessage","returnOnMessage","back","updateMessage","e","preventDefault","message_id","data","success","top","left"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {post} from 'axios';\r\n import {FadeIn} from 'animate-components';\r\n import {notify} from  '../../../../utils/utilMethods/handy-notification';\r\n import Overlay from '../../../others/overlay';\r\n import TextArea from '../../../others/input/textArea';\r\n import PrimaryButton from '../../../others/button/primary-button';\r\n import ModalHeader from '../../../others/modal/modal-header';\r\n import ModalBack from '../../../others/modal/modal-back';\r\n import AddEmojis from '../../../others/emojis/add-emojis';\r\n import {number,string,func} from 'prop-types';\r\n\r\n export default class Edit extends Component {\r\n     state = {\r\n         message: '',\r\n         ogMessage: ''\r\n        }\r\n\r\n        componentDidMount = () => {\r\n            let { message } = this.state;\r\n            this.setState({\r\n                message,\r\n                ogMessage: message\r\n            })\r\n        }\r\n\r\n        descrChange = ({target: {value}}) => {\r\n            this.setState({ message: value })\r\n            this.props.changeMessage(value)\r\n        }\r\n\r\n        returnOnMessage = () => {\r\n            let {ogMessage} = this.state;\r\n            this.props.changeMessage(ogMessage)\r\n        }\r\n\r\n        back = () => {\r\n            let {back} = this.state;\r\n            this.returnOnMessage()\r\n            back()\r\n        }\r\n\r\n        updateMessage = async e => {\r\n            e.preventDefault()\r\n            let {message} = this.state;\r\n            let {message_id,back} = this.props;\r\n            let {data} = await post('/api/edit-message',{message,message_id})\r\n            data.success ? back() : this.returnOnMessage()\r\n            notify({ value: data.message })\r\n        }\r\n\r\n\r\n        render(){\r\n            let {message} = this.state;\r\n\r\n            return (\r\n                <div>\r\n                    <Overlay />\r\n\r\n                    <div className=\"edit_post modal\">\r\n                        <FadeIn duration=\"300ms\">\r\n                            <ModalHeader title=\"Edit message\" />\r\n\r\n                            <div className=\"e_p_middle modal_middle\">\r\n                                <TextArea\r\n                                   placeholder=\"message ...\"    \r\n                                   className=\"e_p_textarea\"\r\n                                   value={message}\r\n                                   valueChange={this.descrChange}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"e_p_bottom modal_bottom\">\r\n                                <AddEmojis \r\n                                    position={{ top:-30, left: -217 }}\r\n                                    textArea=\".e_p_textarea\"\r\n                                    updateTextArea={value => this.setState({ message: value })}\r\n                                    recenterEmojis\r\n                                />\r\n\r\n                                <ModalBack back={this.back} btnType=\"secondary\" disabled={!message} />\r\n                                <PrimaryButton label=\"Update message\" onClick={this.updateMessage} disabled={!message} />\r\n                            </div>\r\n                        </FadeIn>\r\n                    </div>\r\n                </div>\r\n            )\r\n       }\r\n }\r\n\r\n Edit.propTypes = {\r\n     message: string.isRequired,\r\n     message_id: number.isRequired,\r\n     changeMessage: func.isRequired,\r\n     back: func.isRequired\r\n }"]},"metadata":{},"sourceType":"module"}