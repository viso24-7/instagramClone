{"ast":null,"code":"import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{humanReadable}from'../../../../utils/utils';import AppLink from'../../../others/link/link';import Comments from'../../comment/comments/comments';import ImageComment from'../../comment/image-comment/imageComment';import StickerComment from'../../comment/sticker-comment/stickerComment';import TextComment from'../../comment/text-comment/text-comment';var PostBottom=/*#__PURE__*/function(_Component){_inherits(PostBottom,_Component);var _super=_createSuper(PostBottom);function PostBottom(){var _this;_classCallCheck(this,PostBottom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={comments_count:0};_this.componentDidMount=function(){return _this.setState({comments_count:_this.props.postDetails.comments_count});};_this.incrementComments=function(){return _this.setState({comments_count:++_this.state.comments_count});};return _this;}_createClass(PostBottom,[{key:\"render\",value:function render(){var _this2=this;var comments_count=this.state.comments_count;var _this$props=this.props,_this$props$postDetai=_this$props.postDetails,post_id=_this$props$postDetai.post_id,when=_this$props$postDetai.when,comments=_this$props$postDetai.comments,postDetails=_this$props.postDetails,id=_this$props.id;var childProps={postDetails:postDetails,incrementComments:this.incrementComments};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AppLink,{url:\"/post/\".concat(post_id),className:\"p_comments\",label:humanReadable(comments_count,'comment')}),/*#__PURE__*/React.createElement(\"div\",{className:\"p_cit\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p_cit_img\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/users/\".concat(id,\"/avatar.jpg\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"p_cit_main\"},/*#__PURE__*/React.createElement(TextComment,childProps),/*#__PURE__*/React.createElement(\"div\",{className:\"p_cit_tool\"},/*#__PURE__*/React.createElement(StickerComment,childProps),/*#__PURE__*/React.createElement(ImageComment,childProps)))),/*#__PURE__*/React.createElement(Comments,{when:when,comments:comments,decrementComments:function decrementComments(){return _this2.setState({comments_count:--comments_count});}}));}}]);return PostBottom;}(Component);var mapStateToProps=function mapStateToProps(state){return{id:state.User.session.id};};export default connect(mapStateToProps)(PostBottom);export{PostBottom as PurePostBottom};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/post/post-bottom/post-bottom.js"],"names":["React","Component","connect","humanReadable","AppLink","Comments","ImageComment","StickerComment","TextComment","PostBottom","state","comments_count","componentDidMount","setState","props","postDetails","incrementComments","post_id","when","comments","id","childProps","mapStateToProps","User","session","PurePostBottom"],"mappings":"4pBAAC,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,aAAR,KAA4B,yBAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,iCAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,0CAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8CAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,yCAAxB,C,GAGMC,CAAAA,U,2UACFC,K,CAAQ,CAAEC,cAAc,CAAE,CAAlB,C,OAERC,iB,CAAoB,iBAAM,OAAKC,QAAL,CAAc,CACpCF,cAAc,CAAE,MAAKG,KAAL,CAAWC,WAAX,CAAuBJ,cADH,CAAd,CAAN,E,OAIpBK,iB,CAAoB,iBAAM,OAAKH,QAAL,CAAc,CAAEF,cAAc,CAAE,EAAE,MAAKD,KAAL,CAAWC,cAA/B,CAAd,CAAN,E,6EAEZ,oBACGA,CAAAA,cADH,CACqB,KAAKD,KAD1B,CACGC,cADH,iBAEyD,KAAKG,KAF9D,mCAEGC,WAFH,CAEgBE,OAFhB,uBAEgBA,OAFhB,CAEwBC,IAFxB,uBAEwBA,IAFxB,CAE6BC,QAF7B,uBAE6BA,QAF7B,CAEuCJ,WAFvC,aAEuCA,WAFvC,CAEmDK,EAFnD,aAEmDA,EAFnD,CAGF,GAAIC,CAAAA,UAAU,CAAG,CACbN,WAAW,CAAXA,WADa,CAEbC,iBAAiB,CAAE,KAAKA,iBAFX,CAAjB,CAMA,mBACI,4CACI,oBAAC,OAAD,EAAS,GAAG,iBAAWC,OAAX,CAAZ,CAAkC,SAAS,CAAC,YAA5C,CAAyD,KAAK,CAAEd,aAAa,CAACQ,cAAD,CAAgB,SAAhB,CAA7E,EADJ,cAEI,2BAAK,SAAS,CAAC,OAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,GAAG,kBAAYS,EAAZ,eAAR,EADJ,CADJ,cAKI,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,WAAD,CAAiBC,UAAjB,CADJ,cAGI,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,cAAD,CAAoBA,UAApB,CADJ,cAEI,oBAAC,YAAD,CAAkBA,UAAlB,CAFJ,CAHJ,CALJ,CAFJ,cAiBI,oBAAC,QAAD,EACG,IAAI,CAAEH,IADT,CAEG,QAAQ,CAAEC,QAFb,CAGG,iBAAiB,CAAE,mCAAM,CAAA,MAAI,CAACN,QAAL,CAAc,CAAEF,cAAc,CAAE,EAAEA,cAApB,CAAd,CAAN,EAHtB,EAjBJ,CADJ,CAyBL,C,wBA3CoBV,S,EAwDzB,GAAMqB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAZ,KAAK,QAAK,CAC/BU,EAAE,CAAEV,KAAK,CAACa,IAAN,CAAWC,OAAX,CAAmBJ,EADQ,CAAL,EAA7B,CAIA,cAAelB,CAAAA,OAAO,CAACoB,eAAD,CAAP,CAAyBb,UAAzB,CAAf,CACA,OAAQA,UAAU,GAAIgB,CAAAA,cAAtB","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {humanReadable} from '../../../../utils/utils';\r\n import AppLink from '../../../others/link/link';\r\n import Comments from '../../comment/comments/comments';\r\n import ImageComment from '../../comment/image-comment/imageComment'\r\n import StickerComment from '../../comment/sticker-comment/stickerComment'\r\n import TextComment from '../../comment/text-comment/text-comment' \r\n import {number,string,array,shape} from 'prop-types';\r\n\r\n class PostBottom extends Component {\r\n     state = { comments_count: 0 }\r\n\r\n     componentDidMount = () => this.setState({ \r\n         comments_count: this.props.postDetails.comments_count\r\n     })\r\n\r\n     incrementComments = () => this.setState({ comments_count: ++this.state.comments_count })\r\n\r\n     render(){\r\n           let {comments_count} = this.state;\r\n           let {postDetails:{post_id,when,comments},postDetails,id} = this.props;\r\n           let childProps = {\r\n               postDetails,\r\n               incrementComments: this.incrementComments\r\n           }\r\n\r\n\r\n           return (\r\n               <div>\r\n                   <AppLink url={`/post/${post_id}`} className=\"p_comments\" label={humanReadable(comments_count,'comment')} />\r\n                   <div className=\"p_cit\">\r\n                       <div className=\"p_cit_img\">\r\n                           <img src={`/users/${id}/avatar.jpg`} />\r\n                       </div>\r\n\r\n                       <div className=\"p_cit_main\">\r\n                           <TextComment {...childProps} />\r\n                           \r\n                           <div className=\"p_cit_tool\">\r\n                               <StickerComment {...childProps} />\r\n                               <ImageComment {...childProps} />\r\n                           </div>\r\n                       </div>\r\n                   </div>\r\n\r\n                   <Comments\r\n                      when={when}\r\n                      comments={comments}\r\n                      decrementComments={() => this.setState({ comments_count: --comments_count})}\r\n                   />\r\n               </div>\r\n           )\r\n     }\r\n }\r\n\r\n PostBottom.propTypes = {\r\n   postDetails: shape({\r\n       comments_count: number.isRequired,\r\n       post_id: number.isRequired,\r\n       when: string.isRequired,\r\n       user: number.isRequired,\r\n       comments: array\r\n       }).isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n    id: state.User.session.id\r\n })\r\n\r\n export default connect(mapStateToProps)(PostBottom)\r\n export {PostBottom as PurePostBottom}"]},"metadata":{},"sourceType":"module"}