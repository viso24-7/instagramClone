{"ast":null,"code":"import _objectSpread from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React from'react';import{connect}from'react-redux';import{Me}from'../../../utils/utils';import{follow}from'../../../utils/user-interact-utils';import PrimaryButton from'../../others/button/primary-button';var AdvancedFollow=function AdvancedFollow(_ref){var userDetails=_ref.userDetails,followed=_ref.followed,user_details=_ref.user_details,dispatch=_ref.dispatch;var user=userDetails.user,username=userDetails.username,firstname=userDetails.firstname,surname=userDetails.surname;var id=user_details.id;var followUser=function followUser(e){e.preventDefault();var profile_page=window.location.pathname.includes('/profile');var def={user:user,username:username,done:function done(){return followed();}};var obj;if(!profile_page){obj=def;}else if(profile_page){if(Me(id)){obj=_objectSpread(_objectSpread({},def),{},{firstname:firstname,surname:surname,dispatch:dispatch,update_followings:true});}else if(user===id){obj=_objectSpread(_objectSpread({},def),{},{dispatch:dispatch,update_followers:true});}else{obj=def;}}follow(obj);};return/*#__PURE__*/React.createElement(PrimaryButton,{label:\"Follow\",onClick:followUser,extraClass:\"follow\"});};var mapStateToProps=function mapStateToProps(state){return{user_details:state.User.user_details};};export default connect(mapStateToProps)(AdvancedFollow);","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/others/follow/advancedFollow.js"],"names":["React","connect","Me","follow","PrimaryButton","AdvancedFollow","userDetails","followed","user_details","dispatch","user","username","firstname","surname","id","followUser","e","preventDefault","profile_page","window","location","pathname","includes","def","done","obj","update_followings","update_followers","mapStateToProps","state","User"],"mappings":"0KAAC,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,EAAR,KAAiB,sBAAjB,CACA,OAAQC,MAAR,KAAqB,oCAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oCAA1B,CAGA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAkD,IAAhDC,CAAAA,WAAgD,MAAhDA,WAAgD,CAApCC,QAAoC,MAApCA,QAAoC,CAA3BC,YAA2B,MAA3BA,YAA2B,CAAdC,QAAc,MAAdA,QAAc,IACjEC,CAAAA,IADiE,CAC9BJ,WAD8B,CACjEI,IADiE,CAC5DC,QAD4D,CAC9BL,WAD8B,CAC5DK,QAD4D,CACnDC,SADmD,CAC9BN,WAD8B,CACnDM,SADmD,CACzCC,OADyC,CAC9BP,WAD8B,CACzCO,OADyC,IAEjEC,CAAAA,EAFiE,CAE3DN,YAF2D,CAEjEM,EAFiE,CAItE,GAAIC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,CAAC,CAAI,CAClBA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,YAAY,CAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,QAAzB,CAAkC,UAAlC,CAAnB,CACA,GAAIC,CAAAA,GAAG,CAAG,CACGb,IAAI,CAAJA,IADH,CAEGC,QAAQ,CAARA,QAFH,CAGGa,IAAI,CAAE,sBAAMjB,CAAAA,QAAQ,EAAd,EAHT,CAAV,CAKA,GAAIkB,CAAAA,GAAJ,CAEA,GAAG,CAACP,YAAJ,CAAiB,CACfO,GAAG,CAAGF,GAAN,CACD,CAFD,IAEO,IAAGL,YAAH,CAAgB,CACtB,GAAGhB,EAAE,CAACY,EAAD,CAAL,CAAU,CACNW,GAAG,gCACIF,GADJ,MAECX,SAAS,CAATA,SAFD,CAGCC,OAAO,CAAPA,OAHD,CAICJ,QAAQ,CAARA,QAJD,CAKCiB,iBAAiB,CAAE,IALpB,EAAH,CAOH,CARD,IAQO,IAAGhB,IAAI,GAAKI,EAAZ,CAAe,CAClBW,GAAG,gCACIF,GADJ,MAECd,QAAQ,CAARA,QAFD,CAGCkB,gBAAgB,CAAE,IAHnB,EAAH,CAKH,CANM,IAMA,CACHF,GAAG,CAAGF,GAAN,CACH,CACH,CAEHpB,MAAM,CAACsB,GAAD,CAAN,CACA,CAjCA,CAmCF,mBACM,oBAAC,aAAD,EACI,KAAK,CAAC,QADV,CAEI,OAAO,CAAEV,UAFb,CAGI,UAAU,CAAC,QAHf,EADN,CAOA,CA9CD,CAyDA,GAAMa,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BrB,YAAY,CAAEqB,KAAK,CAACC,IAAN,CAAWtB,YADK,CAAL,EAA7B,CAIA,cAAeP,CAAAA,OAAO,CAAC2B,eAAD,CAAP,CAAyBvB,cAAzB,CAAf","sourcesContent":[" import React from 'react';\r\n import {connect} from 'react-redux';\r\n import {Me} from '../../../utils/utils';\r\n import {follow} from '../../../utils/user-interact-utils';\r\n import PrimaryButton from '../../others/button/primary-button';\r\n import {number,string,func,shape} from 'prop-types';\r\n\r\n const AdvancedFollow = ({userDetails,followed,user_details,dispatch}) => {\r\n    let {user,username,firstname,surname} = userDetails;\r\n    let {id} = user_details;\r\n\r\n    let followUser = e => {\r\n        e.preventDefault();\r\n        let profile_page = window.location.pathname.includes('/profile')\r\n        let def = {\r\n                     user,\r\n                     username,\r\n                     done: () => followed()\r\n                  }\r\n        let obj;\r\n\r\n        if(!profile_page){\r\n          obj = def\r\n        } else if(profile_page){\r\n         if(Me(id)){\r\n             obj = {\r\n                 ...def,\r\n                 firstname,\r\n                 surname,\r\n                 dispatch,\r\n                 update_followings: true\r\n               }            \r\n         } else if(user === id){\r\n             obj = {\r\n                 ...def,\r\n                 dispatch,\r\n                 update_followers: true\r\n             } \r\n         } else {\r\n             obj = def\r\n         } \r\n      }\r\n\r\n    follow(obj)\r\n   }\r\n\r\n  return (\r\n        <PrimaryButton\r\n            label=\"Follow\"\r\n            onClick={followUser}\r\n            extraClass=\"follow\"\r\n        />\r\n    )\r\n }\r\n AdvancedFollow.propTypes = {\r\n     userDetails: shape({\r\n         user: number.isRequired,\r\n         username: string.isRequired,\r\n         firstname: string.isRequired,\r\n         surname: string.isRequired\r\n        }).isRequired,\r\n     followed: func.isRequired   \r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     user_details: state.User.user_details\r\n })\r\n\r\n export default connect(mapStateToProps)(AdvancedFollow) "]},"metadata":{},"sourceType":"module"}