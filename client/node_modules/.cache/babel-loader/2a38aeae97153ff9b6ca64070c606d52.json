{"ast":null,"code":"import _defineProperty from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{connect}from'react-redux';import{deleteYourMessages}from'../../../../../utils/message-utils';import Prompt from'../../../../others/prompt';var UnsendMessages=/*#__PURE__*/function(_Component){_inherits(UnsendMessages,_Component);var _super=_createSuper(UnsendMessages);function UnsendMessages(){var _this;_classCallCheck(this,UnsendMessages);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={unsend:false};_this.showPrompt=function(e){e.preventDefault();_this.setState({unsend:true});};_this.unsendAllMessages=function(e){e.preventDefault();var _this$props=_this.props,con_with=_this$props.con_with,toggleOptions=_this$props.toggleOptions,dispatch=_this$props.dispatch;toggleOptions();deleteYourMessages({con_id:con_with,dispatch:dispatch});_this.setState({unsend:false});};_this.modalBack=function(){_this.setState({unsend:false});_this.props.toggleOptions();};return _this;}_createClass(UnsendMessages,[{key:\"render\",value:function render(){var _React$createElement;var unsend=this.state.unsend;var messages=this.props.messages;return/*#__PURE__*/React.createElement(Fragment,null,messages.length!==0&&/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"dlt_mssgs\",onClick:this.showPrompt},\"Unsend all messages\")),unsend&&/*#__PURE__*/React.createElement(Prompt,(_React$createElement={title:\"Unsend all your messages\",content:\"All your messages will be deleted.There's no undo so you won't be able to finnd it\",action:\"Delete\"},_defineProperty(_React$createElement,\"action\",this.unsendAllMessages),_defineProperty(_React$createElement,\"back\",this.modalBack),_React$createElement)));}}]);return UnsendMessages;}(Component);var mapStateToProps=function mapStateToProps(state){return{con_with:state.Message.conDetails.con_with,messages:state.Messages.messages};};export default connect(mapStateToProps)(UnsendMessages);export{UnsendMessages as PureUnsendMessages};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/messages/conversation/top/options/unsend-messages.js"],"names":["React","Component","Fragment","connect","deleteYourMessages","Prompt","UnsendMessages","state","unsend","showPrompt","e","preventDefault","setState","unsendAllMessages","props","con_with","toggleOptions","dispatch","con_id","modalBack","messages","length","mapStateToProps","Message","conDetails","Messages","PureUnsendMessages"],"mappings":"y0BAAC,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,kBAAR,KAAiC,oCAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,C,GAGMC,CAAAA,c,2VACFC,K,CAAQ,CAACC,MAAM,CAAE,KAAT,C,OAERC,U,CAAa,SAAAC,CAAC,CAAI,CACfA,CAAC,CAACC,cAAF,GACA,MAAKC,QAAL,CAAc,CAAEJ,MAAM,CAAE,IAAV,CAAd,EACF,C,OAEDK,iB,CAAoB,SAAAH,CAAC,CAAI,CACrBA,CAAC,CAACC,cAAF,GADqB,gBAEmB,MAAKG,KAFxB,CAEhBC,QAFgB,aAEhBA,QAFgB,CAEPC,aAFO,aAEPA,aAFO,CAEOC,QAFP,aAEOA,QAFP,CAGrBD,aAAa,GACbZ,kBAAkB,CAAC,CACZc,MAAM,CAAEH,QADI,CAEZE,QAAQ,CAARA,QAFY,CAAD,CAAlB,CAIA,MAAKL,QAAL,CAAc,CAAEJ,MAAM,CAAE,KAAV,CAAd,EACH,C,OAEDW,S,CAAY,UAAM,CACd,MAAKP,QAAL,CAAc,CAAEJ,MAAM,CAAE,KAAV,CAAd,EACA,MAAKM,KAAL,CAAWE,aAAX,GACH,C,iFAEO,6BACCR,CAAAA,MADD,CACW,KAAKD,KADhB,CACCC,MADD,IAECY,CAAAA,QAFD,CAEa,KAAKN,KAFlB,CAECM,QAFD,CAIJ,mBACI,oBAAC,QAAD,MACKA,QAAQ,CAACC,MAAT,GAAoB,CAApB,eACG,2CACI,yBAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,WAAtB,CAAkC,OAAO,CAAE,KAAKZ,UAAhD,wBADJ,CAFR,CAOKD,MAAM,eACH,oBAAC,MAAD,wBACG,KAAK,CAAC,0BADT,CAEG,OAAO,CAAC,oFAFX,CAGG,MAAM,CAAC,QAHV,gDAIW,KAAKK,iBAJhB,8CAKS,KAAKM,SALd,wBARR,CADJ,CAmBH,C,4BA/CwBlB,S,EAsD7B,GAAMqB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAf,KAAK,QAAK,CAC9BQ,QAAQ,CAAER,KAAK,CAACgB,OAAN,CAAcC,UAAd,CAAyBT,QADL,CAE9BK,QAAQ,CAAEb,KAAK,CAACkB,QAAN,CAAeL,QAFK,CAAL,EAA7B,CAKA,cAAejB,CAAAA,OAAO,CAACmB,eAAD,CAAP,CAAyBhB,cAAzB,CAAf,CACA,OAAQA,cAAc,GAAIoB,CAAAA,kBAA1B","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {deleteYourMessages} from '../../../../../utils/message-utils';\r\n import Prompt from '../../../../others/prompt';\r\n import {func} from 'prop-types';\r\n\r\n class UnsendMessages extends Component {\r\n     state = {unsend: false }\r\n\r\n     showPrompt = e => {\r\n        e.preventDefault();\r\n        this.setState({ unsend: true })\r\n     }\r\n\r\n     unsendAllMessages = e => {\r\n         e.preventDefault()\r\n         let {con_with,toggleOptions,dispatch} = this.props;\r\n         toggleOptions()\r\n         deleteYourMessages({\r\n                con_id: con_with,\r\n                dispatch\r\n            })\r\n         this.setState({ unsend: false })   \r\n     }\r\n\r\n     modalBack = () => {\r\n         this.setState({ unsend: false })\r\n         this.props.toggleOptions()\r\n     }\r\n\r\n     render(){\r\n         let {unsend} = this.state;\r\n         let {messages} = this.props;\r\n\r\n         return (\r\n             <Fragment>\r\n                 {messages.length !== 0 && (\r\n                     <li>\r\n                         <a href=\"#\" className=\"dlt_mssgs\" onClick={this.showPrompt}>Unsend all messages</a>\r\n                     </li>\r\n                 )}\r\n\r\n                 {unsend && (\r\n                     <Prompt\r\n                        title=\"Unsend all your messages\"\r\n                        content=\"All your messages will be deleted.There's no undo so you won't be able to finnd it\"\r\n                        action=\"Delete\"\r\n                        action={this.unsendAllMessages}\r\n                        back={this.modalBack}\r\n                     />\r\n                 )}\r\n             </Fragment>\r\n         )\r\n     }\r\n }\r\n\r\n UnsendMessages.propTypes = {\r\n     toggleOptions: func.isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     con_with: state.Message.conDetails.con_with,\r\n     messages: state.Messages.messages\r\n })\r\n\r\n export default connect(mapStateToProps)(UnsendMessages);\r\n export {UnsendMessages as PureUnsendMessages}"]},"metadata":{},"sourceType":"module"}