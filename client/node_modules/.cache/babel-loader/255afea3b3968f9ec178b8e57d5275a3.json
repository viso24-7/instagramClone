{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\post\\\\edit-post\\\\editPost.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { FadeIn } from 'animate-components';\nimport { editPost } from '../../../utils/post-utils';\nimport d from '../../../utils/api/Dom';\nimport ModalHeader from '../../others/modal/modal-header';\nimport ModalBack from '../../others/modal/modal-back';\nimport PrimaryButton from '../../others/button/primary-button';\nimport AddEmojis from '../../others/emojis/add-emojis';\nimport TextArea from '../../others/input/textArea';\nimport Overlay from '../../others/overlay';\nimport { number, string, func } from 'prop-types';\n\nclass EditPost extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      description: '',\n      ogDescription: ''\n    };\n\n    this.componentDidMount = () => {\n      let {\n        description\n      } = this.state;\n      this.setState({\n        description,\n        ogDescription: description\n      });\n    };\n\n    this.back = () => {\n      let {\n        back\n      } = this.props;\n      this.returnOgDescription();\n      back();\n    };\n\n    this.returnOgDescription = () => {\n      let {\n        ogDescription\n      } = this.state;\n      this.props.changeDesc(ogDescription);\n    };\n\n    this.descChange = ({\n      target: {\n        value\n      }\n    }) => {\n      this.setState({\n        description: value\n      });\n      this.props.changeDesc(value);\n    };\n\n    this.updatePost = async e => {\n      e.preventDefault();\n      let {\n        description\n      } = this.state;\n      let {\n        dispatch,\n        post,\n        back\n      } = this.props;\n      new d('.e_p_update').addClass('a_disabled');\n      editPost({\n        post_id: post,\n        description,\n        dispatch,\n        done: () => back(),\n        failed: this.returnOgDescription()\n      });\n    };\n  }\n\n  render() {\n    let {\n      description\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Overlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit_post modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(FadeIn, {\n      duration: \"300ms\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      title: \"Edit post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"e_p_middle modal_middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(TextArea, {\n      placeholder: \"Description ...\",\n      className: \"e_p_textarea\",\n      value: description,\n      valueChange: this.descChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 30\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"e_p_bottom modal_bottom\",\n      style: {\n        marginTop: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(AddEmojis, {\n      position: {\n        top: -32,\n        left: -217\n      },\n      textArea: \".e_p_textarea\",\n      updateTextArea: value => this.setState({\n        description: value\n      }),\n      recenterEmojis: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(ModalBack, {\n      back: this.back,\n      btnType: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 30\n      }\n    }), /*#__PURE__*/React.createElement(PrimaryButton, {\n      label: \"Update post\",\n      onClick: this.updatePost,\n      extraClass: \"e_p_update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 30\n      }\n    })))));\n  }\n\n}\n\nEditPost.propTypes = {\n  post: number.isRequired,\n  description: string.isRequired,\n  back: func.isRequired,\n  changeDesc: func.isRequired\n};\nexport default connect()(EditPost);\nexport { EditPost as PureEditPost };","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/edit-post/editPost.js"],"names":["React","Component","connect","FadeIn","editPost","d","ModalHeader","ModalBack","PrimaryButton","AddEmojis","TextArea","Overlay","number","string","func","EditPost","state","description","ogDescription","componentDidMount","setState","back","props","returnOgDescription","changeDesc","descChange","target","value","updatePost","e","preventDefault","dispatch","post","addClass","post_id","done","failed","render","marginTop","top","left","propTypes","isRequired","PureEditPost"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {FadeIn} from 'animate-components';\r\n import {editPost} from '../../../utils/post-utils';\r\n import d from '../../../utils/api/Dom';\r\n import ModalHeader from '../../others/modal/modal-header';\r\n import ModalBack from '../../others/modal/modal-back';\r\n import PrimaryButton from '../../others/button/primary-button';\r\n import AddEmojis from '../../others/emojis/add-emojis';\r\n import TextArea from '../../others/input/textArea';\r\n import Overlay from '../../others/overlay';\r\n import {number,string,func} from 'prop-types';\r\n\r\n class EditPost extends Component {\r\n     state = {\r\n         description: '',\r\n         ogDescription: ''\r\n     }\r\n\r\n     componentDidMount = () => {\r\n         let {description} = this.state;\r\n         this.setState({\r\n             description,\r\n             ogDescription: description\r\n         })\r\n     }\r\n\r\n     back = () => {\r\n         let {back} = this.props;\r\n         this.returnOgDescription();\r\n         back()\r\n     }\r\n\r\n     returnOgDescription = () => {\r\n         let {ogDescription} = this.state;\r\n         this.props.changeDesc(ogDescription)\r\n     }\r\n\r\n     descChange = ({target:{value}}) => {\r\n         this.setState({ description: value })\r\n         this.props.changeDesc(value)\r\n     }\r\n\r\n     updatePost = async e => {\r\n         e.preventDefault()\r\n         let {description} = this.state;\r\n         let {dispatch,post,back} = this.props;\r\n         new d('.e_p_update').addClass('a_disabled')\r\n         editPost({\r\n             post_id: post,\r\n             description,\r\n             dispatch,\r\n             done: () => back(),\r\n             failed: this.returnOgDescription()\r\n         })\r\n     }\r\n\r\n     render(){\r\n         let {description} = this.state;\r\n\r\n         return (\r\n             <div>\r\n                 <Overlay />\r\n\r\n                 <div className=\"edit_post modal\">\r\n                     <FadeIn duration=\"300ms\">\r\n                         <ModalHeader title=\"Edit post\" />\r\n\r\n                         <div className=\"e_p_middle modal_middle\">\r\n                             <TextArea\r\n                                placeholder=\"Description ...\"\r\n                                className=\"e_p_textarea\"\r\n                                value={description}\r\n                                valueChange={this.descChange}\r\n                             />\r\n                         </div>\r\n\r\n                         <div className=\"e_p_bottom modal_bottom\" style={{marginTop: 0}}>\r\n                             <AddEmojis\r\n                                 position={{top:-32,left: -217}}\r\n                                 textArea=\".e_p_textarea\"\r\n                                 updateTextArea={value => this.setState({description: value})}\r\n                                 recenterEmojis\r\n                             />\r\n\r\n                             <ModalBack back={this.back} btnType=\"secondary\" />\r\n                             <PrimaryButton\r\n                                label=\"Update post\"\r\n                                onClick={this.updatePost}\r\n                                extraClass=\"e_p_update\"\r\n                             />\r\n                         </div>\r\n                     </FadeIn>\r\n                 </div>\r\n             </div>\r\n         )\r\n     }\r\n }\r\n\r\n EditPost.propTypes = {\r\n     post: number.isRequired,\r\n     description: string.isRequired,\r\n     back: func.isRequired,\r\n     changeDesc: func.isRequired\r\n }\r\n\r\n export default connect()(EditPost);\r\n export {EditPost as PureEditPost}"]},"metadata":{},"sourceType":"module"}