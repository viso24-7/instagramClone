{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\others\\\\avatar\\\\upload-avatar.js\";\nimport React, { Component, Fragment } from 'react';\nimport { upload_avatar } from '../../../utils/avatar-utils';\nimport PreviewAvatar from './preview-avatar';\nimport FileInput from '../input/file';\nimport { number, oneOf } from 'prop-types';\nexport default class UploadAvatar extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      fileAvatarChanged: false,\n      fileInput: '',\n      previewAvatar: '/images/spacecraft.jpg',\n      targetFile: ''\n    };\n\n    this.preViewAvatar = e => {\n      this.setState({\n        fileAvatarChanged: true\n      });\n      this.setState({\n        fileInput: e.target.value\n      });\n      let reader = new FileReader();\n      let file = e.target.files[0];\n      this.setState({\n        targetFile: file\n      });\n\n      reader.onload = e => this.setState({\n        previewAvatar: e.target.result\n      });\n\n      reader.readAsDataURL(file);\n    };\n\n    this.preViewAvatarBack = e => {\n      e.preventDefault();\n      this.setState({\n        fileAvatarChanged: false,\n        fileInput: ''\n      });\n    };\n\n    this.uploadAvatar = e => {\n      e.preventDefault();\n      let {\n        targetFile\n      } = this.state;\n      let {\n        of,\n        group\n      } = this.props;\n      upload_avatar({\n        file: targetFile,\n        of,\n        group\n      });\n    };\n  }\n\n  render() {\n    let {\n      fileInput,\n      fileAvatarChanged,\n      previewAvatar\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      method: \"post\",\n      className: \"post\",\n      encType: \"multipart/form-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      value: fileInput,\n      fileChange: this.preViewAvatar,\n      label: \"Upload avatar\",\n      labelClass: \"sec_btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 23\n      }\n    })), fileAvatarChanged ? /*#__PURE__*/React.createElement(PreviewAvatar, {\n      previewAvatar: previewAvatar,\n      back: this.preViewAvatarBack,\n      upload: this.uploadAvatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 24\n      }\n    }) : null);\n  }\n\n}\nUploadAvatar.propTypes = {\n  of: oneOf(['user', 'group']).isRequired,\n  group: number\n};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/others/avatar/upload-avatar.js"],"names":["React","Component","Fragment","upload_avatar","PreviewAvatar","FileInput","number","oneOf","UploadAvatar","state","fileAvatarChanged","fileInput","previewAvatar","targetFile","preViewAvatar","e","setState","target","value","reader","FileReader","file","files","onload","result","readAsDataURL","preViewAvatarBack","preventDefault","uploadAvatar","of","group","props","render","propTypes","isRequired"],"mappings":";AAAC,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,SAAQC,aAAR,QAA4B,6BAA5B;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,SAAQC,MAAR,EAAeC,KAAf,QAA2B,YAA3B;AAEA,eAAe,MAAMC,YAAN,SAA2BP,SAA3B,CAAoC;AAAA;AAAA;AAAA,SAC/CQ,KAD+C,GACvC;AACHC,MAAAA,iBAAiB,EAAE,KADhB;AAEHC,MAAAA,SAAS,EAAE,EAFR;AAGHC,MAAAA,aAAa,EAAE,wBAHZ;AAIHC,MAAAA,UAAU,EAAE;AAJT,KADuC;;AAAA,SAQ7CC,aAR6C,GAQ7BC,CAAC,IAAI;AACjB,WAAKC,QAAL,CAAc;AAAEN,QAAAA,iBAAiB,EAAE;AAArB,OAAd;AACA,WAAKM,QAAL,CAAc;AAAEL,QAAAA,SAAS,EAAEI,CAAC,CAACE,MAAF,CAASC;AAAtB,OAAd;AACA,UAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,UAAIC,IAAI,GAAGN,CAAC,CAACE,MAAF,CAASK,KAAT,CAAe,CAAf,CAAX;AACA,WAAKN,QAAL,CAAc;AAAEH,QAAAA,UAAU,EAAEQ;AAAd,OAAd;;AACAF,MAAAA,MAAM,CAACI,MAAP,GAAgBR,CAAC,IAAI,KAAKC,QAAL,CAAc;AAAEJ,QAAAA,aAAa,EAAEG,CAAC,CAACE,MAAF,CAASO;AAA1B,OAAd,CAArB;;AACAL,MAAAA,MAAM,CAACM,aAAP,CAAqBJ,IAArB;AACH,KAhB4C;;AAAA,SAkB7CK,iBAlB6C,GAkBzBX,CAAC,IAAI;AACvBA,MAAAA,CAAC,CAACY,cAAF;AACA,WAAKX,QAAL,CAAc;AACVN,QAAAA,iBAAiB,EAAE,KADT;AAEVC,QAAAA,SAAS,EAAE;AAFD,OAAd;AAID,KAxB4C;;AAAA,SA0B7CiB,YA1B6C,GA0B9Bb,CAAC,IAAI;AAChBA,MAAAA,CAAC,CAACY,cAAF;AACA,UAAI;AAACd,QAAAA;AAAD,UAAe,KAAKJ,KAAxB;AACA,UAAI;AAACoB,QAAAA,EAAD;AAAIC,QAAAA;AAAJ,UAAa,KAAKC,KAAtB;AACA5B,MAAAA,aAAa,CAAC;AACVkB,QAAAA,IAAI,EAAER,UADI;AAEVgB,QAAAA,EAFU;AAGVC,QAAAA;AAHU,OAAD,CAAb;AAKH,KAnC4C;AAAA;;AAqC7CE,EAAAA,MAAM,GAAE;AACJ,QAAI;AAACrB,MAAAA,SAAD;AAAWD,MAAAA,iBAAX;AAA6BE,MAAAA;AAA7B,QAA8C,KAAKH,KAAvD;AAEA,wBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,MAAM,EAAC,MAAb;AAAoB,MAAA,SAAS,EAAC,MAA9B;AAAqC,MAAA,OAAO,EAAC,qBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG,oBAAC,SAAD;AACG,MAAA,KAAK,EAAEE,SADV;AAEG,MAAA,UAAU,EAAE,KAAKG,aAFpB;AAGG,MAAA,KAAK,EAAC,eAHT;AAIG,MAAA,UAAU,EAAC,SAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,CADJ,EAUKJ,iBAAiB,gBACd,oBAAC,aAAD;AACE,MAAA,aAAa,EAAEE,aADjB;AAEE,MAAA,IAAI,EAAE,KAAKc,iBAFb;AAGE,MAAA,MAAM,EAAE,KAAKE,YAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADc,GAMd,IAhBR,CADJ;AAoBH;;AA5D4C;AA+DnDpB,YAAY,CAACyB,SAAb,GAAyB;AACrBJ,EAAAA,EAAE,EAAEtB,KAAK,CAAC,CAAC,MAAD,EAAQ,OAAR,CAAD,CAAL,CAAwB2B,UADP;AAErBJ,EAAAA,KAAK,EAAExB;AAFc,CAAzB","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {upload_avatar} from '../../../utils/avatar-utils';\r\n import PreviewAvatar from './preview-avatar';\r\n import FileInput from '../input/file';\r\n import {number,oneOf} from 'prop-types';\r\n\r\n export default class UploadAvatar extends Component{\r\n     state = {\r\n          fileAvatarChanged: false,\r\n          fileInput: '',\r\n          previewAvatar: '/images/spacecraft.jpg',\r\n          targetFile: ''\r\n       }\r\n\r\n       preViewAvatar = e => {\r\n           this.setState({ fileAvatarChanged: true })\r\n           this.setState({ fileInput: e.target.value })\r\n           let reader = new FileReader();\r\n           let file = e.target.files[0];\r\n           this.setState({ targetFile: file })\r\n           reader.onload = e => this.setState({ previewAvatar: e.target.result })\r\n           reader.readAsDataURL(file)\r\n       }\r\n\r\n       preViewAvatarBack = e => {\r\n         e.preventDefault();\r\n         this.setState({\r\n             fileAvatarChanged: false,\r\n             fileInput: ''\r\n         })\r\n       }\r\n\r\n       uploadAvatar = e => {\r\n           e.preventDefault();\r\n           let {targetFile} = this.state;\r\n           let {of,group} = this.props;\r\n           upload_avatar({\r\n               file: targetFile,\r\n               of,\r\n               group\r\n           })\r\n       }\r\n\r\n       render(){\r\n           let {fileInput,fileAvatarChanged,previewAvatar} = this.state;\r\n\r\n           return (\r\n               <Fragment>\r\n                   <form method=\"post\" className=\"post\" encType=\"multipart/form-data\">\r\n                      <FileInput\r\n                         value={fileInput}\r\n                         fileChange={this.preViewAvatar}\r\n                         label=\"Upload avatar\"\r\n                         labelClass=\"sec_btn\"\r\n                      />\r\n                   </form>\r\n\r\n                   {fileAvatarChanged ? (\r\n                       <PreviewAvatar\r\n                         previewAvatar={previewAvatar}\r\n                         back={this.preViewAvatarBack}\r\n                         upload={this.uploadAvatar}\r\n                       />\r\n                   ) : null }\r\n               </Fragment>\r\n           )\r\n       }\r\n }\r\n\r\n UploadAvatar.propTypes = {\r\n     of: oneOf(['user','group']).isRequired,\r\n     group: number\r\n }"]},"metadata":{},"sourceType":"module"}