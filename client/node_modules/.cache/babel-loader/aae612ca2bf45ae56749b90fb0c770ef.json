{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{post}from'axios';import{Me}from'../../../../../utils/utils';import{isAdmin}from'../../../../../utils/admin-utils';import{timeAgo}from'../../../../../utils/utilMethods/handyTimeAgo';import MemberAddedBy from'./member-added-by';import MemberTop from'./member-top';import RemoveMember from'./remove-member';import AppLink from'../../../../others/link/link';import Follow from'../../../../others/follow/follow';import UnFollow from'../../../../others/follow/unfollow';import MonSticky from'../../../../others/m-on/mon-sticky';var MembersList=/*#__PURE__*/function(_Component){_inherits(MembersList,_Component);var _super=_createSuper(MembersList);function MembersList(){var _this;_classCallCheck(this,MembersList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isFollowing:false,showTime:false};_this.showTime=function(){return _this.setState({showTime:true});};_this.hideTime=function(){return _this.setState({showTime:false});};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props,member,username,_yield$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,member=_this$props.member,username=_this$props.username;if(Me(member)){_context.next=7;break;}_context.next=4;return post('/api/is-following',{username:username});case 4:_yield$post=_context.sent;data=_yield$post.data;_this.setState({isFollowing:data});case 7:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(MembersList,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,isFollowing=_this$state.isFollowing,showTime=_this$state.showTime;var _this$props2=this.props,group_details=_this$props2.group_details,group_member_id=_this$props2.group_member_id,member=_this$props2.member,username=_this$props2.username,firstname=_this$props2.firstname,surname=_this$props2.surname,added_by=_this$props2.added_by,added_by_username=_this$props2.added_by_username,mutualUsersCount=_this$props2.mutualUsersCount,joined_group=_this$props2.joined_group;return/*#__PURE__*/React.createElement(\"div\",{className:\"m_on followers_m_on\",onMouseOver:this.showTime,onMouseOut:this.hideTime},/*#__PURE__*/React.createElement(MemberTop,{memberDetails:{member:member,username:username,firstname:firstname,surname:surname,mutualUsersCount:mutualUsersCount}}),/*#__PURE__*/React.createElement(MonSticky,{show:showTime,text:timeAgo(joined_group)}),/*#__PURE__*/React.createElement(\"div\",{className:\"m_bottom\"},/*#__PURE__*/React.createElement(MemberAddedBy,{memberDetails:{member:member,added_by:added_by,added_by_username:added_by_username}}),Me(member)?/*#__PURE__*/React.createElement(AppLink,{url:\"/profile/\".concat(username),className:\"sec_btn\",label:\"Profile\"}):Me(group_details.admin)||isAdmin()?/*#__PURE__*/React.createElement(RemoveMember,{memberDetails:{group_member_id:group_member_id,member:member,username:username}}):isFollowing?/*#__PURE__*/React.createElement(UnFollow,{user:member,unfollowed:function unfollowed(){return _this2.setState({isFollowing:false});}}):/*#__PURE__*/React.createElement(Follow,{userDetails:{user:member,username:username},followed:function followed(){return _this2.setState({isFollowing:true});}})));}}]);return MembersList;}(Component);var mapStateToProps=function mapStateToProps(state){return{group_details:state.Group.group_details};};export default connect(mapStateToProps)(MembersList);export{MembersList as PureMembersList};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/group/sections/members/member/member-list.js"],"names":["React","Component","connect","post","Me","isAdmin","timeAgo","MemberAddedBy","MemberTop","RemoveMember","AppLink","Follow","UnFollow","MonSticky","MembersList","state","isFollowing","showTime","setState","hideTime","componentDidMount","props","member","username","data","group_details","group_member_id","firstname","surname","added_by","added_by_username","mutualUsersCount","joined_group","admin","user","mapStateToProps","Group","PureMembersList"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {Me} from '../../../../../utils/utils';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import {timeAgo} from '../../../../../utils/utilMethods/handyTimeAgo';\r\n import MemberAddedBy from './member-added-by';\r\n import MemberTop from './member-top';\r\n import RemoveMember from './remove-member';\r\n import AppLink from '../../../../others/link/link';\r\n import Follow from '../../../../others/follow/follow';\r\n import UnFollow from '../../../../others/follow/unfollow';\r\n import MonSticky from '../../../../others/m-on/mon-sticky';\r\n import {number,string} from 'prop-types';\r\n\r\n class MembersList extends Component{\r\n     state = {\r\n         isFollowing: false,\r\n         showTime: false\r\n     }\r\n\r\n     showTime = () => this.setState({ showTime: true})\r\n     hideTime = () => this.setState({ showTime: false})\r\n\r\n     componentDidMount = async () => {\r\n        let {member,username} = this.props;\r\n        if(!Me(member)){\r\n            let {data} = await post('/api/is-following',{username})\r\n            this.setState({ isFollowing: data })\r\n        }\r\n     }\r\n\r\n     render(){\r\n       let {isFollowing,showTime} = this.state;  \r\n       let {\r\n           group_details,\r\n           group_member_id,\r\n           member,\r\n           username,\r\n           firstname,\r\n           surname,\r\n           added_by,\r\n           added_by_username,\r\n           mutualUsersCount,\r\n           joined_group  } = this.props;\r\n\r\n           return (\r\n               <div className=\"m_on followers_m_on\" onMouseOver={this.showTime} onMouseOut={this.hideTime}>\r\n                   <MemberTop\r\n                       memberDetails={{\r\n                           member,\r\n                           username,\r\n                           firstname,\r\n                           surname,\r\n                           mutualUsersCount\r\n                          }}                   \r\n                     />\r\n\r\n                     <MonSticky show={showTime} text={timeAgo(joined_group)} />\r\n\r\n                     <div className=\"m_bottom\">\r\n                        <MemberAddedBy memberDetails={{member,added_by,added_by_username }} />\r\n\r\n                         {Me(member) ? (\r\n                             <AppLink url={`/profile/${username}`} className=\"sec_btn\" label=\"Profile\" />\r\n                         ) : Me(group_details.admin) || isAdmin() ? (\r\n                             <RemoveMember memberDetails={{group_member_id,member,username}} />\r\n                         ) : isFollowing ? (\r\n                             <UnFollow user={member} unfollowed={() => this.setState({ isFollowing: false})} />\r\n                         ) : (\r\n                            <Follow userDetails={{ user: member,username}} followed={() => this.setState({ isFollowing: true})} />\r\n                         )}\r\n                     </div>\r\n               </div>\r\n           )\r\n     }\r\n }\r\n\r\n MembersList.propTypes = {\r\n     group_member_id: number.isRequired,\r\n     member: number.isRequired,\r\n     username: string.isRequired,\r\n     firstname: string.isRequired,\r\n     surname: string.isRequired,\r\n     added_by: number.isRequired,\r\n     added_by_username: string.isRequired,\r\n     joined_group: string.isRequired,\r\n     mutualUsersCount: number.isRequired,\r\n     group_id: number.isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     group_details: state.Group.group_details\r\n })\r\n\r\n export default connect(mapStateToProps)(MembersList);\r\n export {MembersList as PureMembersList}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}