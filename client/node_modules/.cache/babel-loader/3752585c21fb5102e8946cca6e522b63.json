{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{post}from'axios';import{notify}from'../../../../utils/utilMethods/handy-notification';import{FadeIn}from'animate-components';import{editComment}from'../../../../actions/post';import d from'../../../../utils/api/Dom';import PrimaryButton from'../../../others/button/primary-button';import TextArea from'../../../others/input/textArea';import AddEmojis from'../../../others/emojis/add-emojis';import Overlay from'../../../others/overlay';import ModalHeader from'../../../others/modal/modal-header';import ModalBack from'../../../others/modal/modal-back';var EditComment=/*#__PURE__*/function(_Component){_inherits(EditComment,_Component);var _super=_createSuper(EditComment);function EditComment(){var _this;_classCallCheck(this,EditComment);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={comment:'',ogComment:''};_this.componentDidMount=function(){var comment=_this.props.comment;_this.setState({comment:comment,ogComment:comment});};_this.decreptionChange=function(_ref){var value=_ref.target.value;_this.setState({comment:value});_this.props.updateComment(_this.state.ogComment);};_this.updateComment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var comment,_this$props,comment_id,dispatch,back;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();new d('.e_p_update').addClass('a_disabled');comment=_this.state.comment;_this$props=_this.props,comment_id=_this$props.comment_id,dispatch=_this$props.dispatch,back=_this$props.back;_context.next=6;return post('/api/edit-comment',{comment_id:comment_id,comment:comment});case 6:dispatch(editComment({comment_id:comment_id,comment:comment}));notify({value:'Comment updated '});_this.back();case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.back=function(){_this.updateComment(_this.state.ogComment);_this.props.back();};return _this;}_createClass(EditComment,[{key:\"render\",value:function render(){var _this2=this;var comment=this.state.comment;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Overlay,null),/*#__PURE__*/React.createElement(\"div\",{clasName:\"edit_post modal\"},/*#__PURE__*/React.createElement(FadeIn,{duration:\"300ms\"},/*#__PURE__*/React.createElement(ModalHeader,{title:\"Edit comment\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"e_p_middle modal_middle\"},/*#__PURE__*/React.createElement(TextArea,{placeholder:\"Comment ...\",className:\"e_c_textarea\",value:comment,valueChange:this.decreptionChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"e_p_bottom modal_bottom\"},/*#__PURE__*/React.createElement(AddEmojis,{position:{top:-30,left:-217},textArea:\".e_c_textarea\",updateTextArea:function updateTextArea(value){return _this2.setState({comment:value});},recenterEmojis:true}),/*#__PURE__*/React.createElement(ModalBack,{back:this.back,btnType:\"secondary\",disabled:!comment}),/*#__PURE__*/React.createElement(PrimaryButton,{label:\"Update\",onClick:this.updateComment,disabled:!comment,extraClass:\"e_p_update\"})))));}}]);return EditComment;}(Component);export default connect()(EditComment);","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/comment/edit-comment/edit-comment.js"],"names":["React","Component","connect","post","notify","FadeIn","editComment","d","PrimaryButton","TextArea","AddEmojis","Overlay","ModalHeader","ModalBack","EditComment","state","comment","ogComment","componentDidMount","props","setState","decreptionChange","value","target","updateComment","e","preventDefault","addClass","comment_id","dispatch","back","top","left"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {notify} from '../../../../utils/utilMethods/handy-notification';\r\n import {FadeIn} from 'animate-components';\r\n import {editComment} from '../../../../actions/post';\r\n import d from '../../../../utils/api/Dom';\r\n import PrimaryButton from '../../../others/button/primary-button';\r\n import TextArea from '../../../others/input/textArea';\r\n import AddEmojis from '../../../others/emojis/add-emojis'\r\n import Overlay from '../../../others/overlay';\r\n import ModalHeader from '../../../others/modal/modal-header';\r\n import ModalBack from '../../../others/modal/modal-back';\r\n import {number,string,func} from 'prop-types'\r\n\r\n class EditComment extends Component{\r\n     state = {\r\n         comment: '',\r\n         ogComment: ''\r\n        }\r\n\r\n     componentDidMount = () => {\r\n         let {comment} = this.props;\r\n         this.setState({\r\n             comment,\r\n             ogComment: comment\r\n         })\r\n     }   \r\n\r\n     decreptionChange = ({ target: {value}}) => {\r\n         this.setState({ comment: value })\r\n         this.props.updateComment(this.state.ogComment)\r\n     }\r\n\r\n     updateComment = async e => {\r\n         e.preventDefault();\r\n         new d('.e_p_update').addClass('a_disabled')\r\n         let {comment} = this.state;\r\n         let {comment_id,dispatch,back} = this.props;\r\n         await post('/api/edit-comment',{comment_id,comment})\r\n         dispatch(editComment({comment_id,comment}))\r\n         notify({ value: 'Comment updated '})\r\n         this.back()\r\n     }\r\n\r\n     back = () => {\r\n         this.updateComment(this.state.ogComment);\r\n         this.props.back();\r\n     }\r\n\r\n     render(){\r\n         let {comment} = this.state;\r\n\r\n         return (\r\n             <div>\r\n                 <Overlay />\r\n\r\n                 <div clasName=\"edit_post modal\">\r\n                     <FadeIn duration=\"300ms\">\r\n                         <ModalHeader title=\"Edit comment\" />\r\n\r\n                         <div className=\"e_p_middle modal_middle\">\r\n                             <TextArea\r\n                                placeholder=\"Comment ...\"\r\n                                className=\"e_c_textarea\"\r\n                                value={comment}\r\n                                valueChange={this.decreptionChange}\r\n                             />\r\n                         </div>\r\n\r\n                         <div className=\"e_p_bottom modal_bottom\">\r\n                             <AddEmojis\r\n                                position={{\r\n                                    top: -30,\r\n                                    left: -217\r\n                                    }}\r\n                                textArea=\".e_c_textarea\"\r\n                                updateTextArea={value => this.setState({ comment: value})} \r\n                                recenterEmojis   \r\n                             />\r\n\r\n                             <ModalBack\r\n                                back={this.back}\r\n                                btnType=\"secondary\"\r\n                                disabled={!comment}\r\n                             />\r\n\r\n                             <PrimaryButton\r\n                                 label=\"Update\"\r\n                                 onClick={this.updateComment}\r\n                                 disabled={!comment}\r\n                                 extraClass=\"e_p_update\"\r\n                             />\r\n                         </div>\r\n                     </FadeIn>\r\n                 </div>\r\n             </div>\r\n         )\r\n     }\r\n }\r\n\r\n EditComment.propTypes = {\r\n     comment: string.isRequired,\r\n     comment_id: number.isRequired,\r\n     back: func.isRequired,\r\n     updateComment: func.isRequired\r\n }\r\n\r\n export default connect()(EditComment);"]},"metadata":{},"sourceType":"module"}