{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{connect}from'react-redux';import{deleteMessage}from'../../../../../utils/message-utils';import{isAdmin}from'../../../../../utils/admin-utils';import Prompt from'../../../../others/prompt';import MaterialIcon from'../../../../others/icons/material-icon';var DeleteMessageTool=/*#__PURE__*/function(_Component){_inherits(DeleteMessageTool,_Component);var _super=_createSuper(DeleteMessageTool);function DeleteMessageTool(){var _this;_classCallCheck(this,DeleteMessageTool);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={deleteMessage:false};_this.toggleDelete=function(){return _this.setState({deleteMessage:!_this.state.deleteMessage});};_this.delete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$props,_this$props$messageDe,message_id,message,type,dispatch;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$props=_this.props,_this$props$messageDe=_this$props.messageDetails,message_id=_this$props$messageDe.message_id,message=_this$props$messageDe.message,type=_this$props$messageDe.type,dispatch=_this$props.dispatch;deleteMessage({message_id:message_id,message:message,type:type,dispatch:dispatch,done:function done(){return _this.toggleDelete;}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(DeleteMessageTool,[{key:\"render\",value:function render(){var deleteMessage=this.state.deleteMessage;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"toggle_dlt_mssg\",onClick:this.toggleDelete,\"data-tip\":\"Delete \".concat(isAdmin()?'as admin':'')},/*#__PURE__*/React.createElement(MaterialIcon,{icon:\"delete\"})),deleteMessage&&/*#__PURE__*/React.createElement(Prompt,{title:\"Delete message\",content:\"This message will be deleted.There's no undo so you won't be able to find it\",actionText:\"Delete\",action:this.delete,back:this.toggleDelete}));}}]);return DeleteMessageTool;}(Component);export default connect()(DeleteMessageTool);export{DeleteMessageTool as PureDeleteMessageTool};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/messages/conversation/message/tools/delete-message-tool.js"],"names":["React","Component","Fragment","connect","deleteMessage","isAdmin","Prompt","MaterialIcon","DeleteMessageTool","state","toggleDelete","setState","delete","e","preventDefault","props","messageDetails","message_id","message","type","dispatch","done","PureDeleteMessageTool"],"mappings":"++BAAC,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,aAAR,KAA4B,oCAA5B,CACA,OAAQC,OAAR,KAAsB,kCAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wCAAzB,C,GAGMC,CAAAA,iB,uWACHC,K,CAAQ,CAAEL,aAAa,CAAE,KAAjB,C,OAERM,Y,CAAe,iBAAM,OAAKC,QAAL,CAAc,CAAEP,aAAa,CAAE,CAAC,MAAKK,KAAL,CAAWL,aAA7B,CAAd,CAAN,E,OAEfQ,M,0FAAS,iBAAMC,CAAN,yLACLA,CAAC,CAACC,cAAF,GADK,YAEsD,MAAKC,KAF3D,mCAEAC,cAFA,CAEiBC,UAFjB,uBAEiBA,UAFjB,CAE4BC,OAF5B,uBAE4BA,OAF5B,CAEoCC,IAFpC,uBAEoCA,IAFpC,CAE0CC,QAF1C,aAE0CA,QAF1C,CAGLhB,aAAa,CAAC,CACVa,UAAU,CAAVA,UADU,CAEVC,OAAO,CAAPA,OAFU,CAGVC,IAAI,CAAJA,IAHU,CAIVC,QAAQ,CAARA,QAJU,CAKVC,IAAI,CAAE,sBAAM,OAAKX,YAAX,EALI,CAAD,CAAb,CAHK,sD,kJAYD,IACCN,CAAAA,aADD,CACkB,KAAKK,KADvB,CACCL,aADD,CAGJ,mBACI,oBAAC,QAAD,mBACI,4BAAM,SAAS,CAAC,iBAAhB,CAAkC,OAAO,CAAE,KAAKM,YAAhD,CAA8D,4BAAoBL,OAAO,GAAK,UAAL,CAAkB,EAA7C,CAA9D,eACK,oBAAC,YAAD,EAAc,IAAI,CAAC,QAAnB,EADL,CADJ,CAKKD,aAAa,eACV,oBAAC,MAAD,EACE,KAAK,CAAC,gBADR,CAEE,OAAO,CAAC,8EAFV,CAGE,UAAU,CAAC,QAHb,CAIE,MAAM,CAAE,KAAKQ,MAJf,CAKE,IAAI,CAAE,KAAKF,YALb,EANR,CADJ,CAiBH,C,+BArC4BT,S,EAiDhC,cAAeE,CAAAA,OAAO,GAAGK,iBAAH,CAAtB,CACA,OAAQA,iBAAiB,GAAIc,CAAAA,qBAA7B","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {deleteMessage} from '../../../../../utils/message-utils';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import Prompt from '../../../../others/prompt';\r\n import MaterialIcon from '../../../../others/icons/material-icon';\r\n import {number,string,shape} from 'prop-types';\r\n\r\n class DeleteMessageTool extends Component{\r\n    state = { deleteMessage: false }\r\n\r\n    toggleDelete = () => this.setState({ deleteMessage: !this.state.deleteMessage })\r\n\r\n    delete = async e => {\r\n        e.preventDefault();\r\n        let {messageDetails: {message_id,message,type},dispatch} = this.props;\r\n        deleteMessage({\r\n            message_id,\r\n            message,\r\n            type,\r\n            dispatch,\r\n            done: () => this.toggleDelete\r\n        }) \r\n    }\r\n\r\n    render(){\r\n        let {deleteMessage} = this.state;\r\n\r\n        return (\r\n            <Fragment>\r\n                <span className=\"toggle_dlt_mssg\" onClick={this.toggleDelete} data-tip={`Delete ${isAdmin() ? 'as admin' : ''}`} >\r\n                     <MaterialIcon icon=\"delete\" />\r\n                </span>\r\n\r\n                {deleteMessage && (\r\n                    <Prompt\r\n                      title=\"Delete message\"\r\n                      content=\"This message will be deleted.There's no undo so you won't be able to find it\"\r\n                      actionText=\"Delete\"\r\n                      action={this.delete}\r\n                      back={this.toggleDelete}\r\n                    />\r\n                )}\r\n            </Fragment>\r\n        )\r\n    }\r\n }\r\n\r\n\r\n DeleteMessageTool.propTypes = {\r\n     messageDetails: shape({\r\n         message_id: number.isRequired,\r\n         message: string.isRequired,\r\n         type: string.isRequired\r\n        }).isRequired\r\n }\r\n\r\n export default connect()(DeleteMessageTool)\r\n export {DeleteMessageTool as PureDeleteMessageTool}"]},"metadata":{},"sourceType":"module"}