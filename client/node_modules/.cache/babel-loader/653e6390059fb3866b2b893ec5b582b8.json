{"ast":null,"code":"const initialState = {\n  conversations: [],\n  messages: [],\n  conAbout: [],\n  unreadMessages: 0,\n  onlineUsers: [],\n  conDetails: {\n    con_with: null,\n    con_with_username: '',\n    con_with_firstname: '',\n    con_with_surname: '',\n    isOnline: 'no',\n    lastOnline: ''\n  }\n};\n\nconst addCon = (cons, con) => {\n  cons = [...cons, con];\n  return cons;\n};\n\nconst message = (messages, message) => {\n  messages = [...messages, message];\n  return messages;\n};\n\nconst changeLastMsgg = (conversations, mssgDetails) => {\n  return conversations.map(c => {\n    if (c.con_id === mssgDetails.con_id) {\n      c.lastMssg = mssgDetails.lastMssg;\n    }\n\n    return c;\n  });\n};\n\nconst readCon = (cons, con_id) => {\n  return cons.map(c => {\n    if (c.con_id === con_id) {\n      c.unreadMessages = 0;\n    }\n\n    return c;\n  });\n};\n\nconst deleteMssg = (messages, message_id) => messages.filter(m => m.message_id !== message_id);\n\nconst unsendAllMssgs = (messages, mssg_by) => messages.filter(m => m.mssg_by !== mssg_by);\n\nconst deleteConversation = (cons, con_id) => cons.filter(c => c.con_id !== con_id);\n\nexport default ((state = initialState, action) => {\n  let pl = action.payload;\n\n  switch (action.type) {\n    case 'GET_CONVERSATIONS':\n      return { ...state,\n        conversations: pl\n      };\n\n    case 'CONVERSATION_ADDED':\n      return { ...state,\n        conversations: addCon(state.conversations, pl)\n      };\n\n    case 'GET_CONVERSATION_MESSAGES':\n      return { ...state,\n        messages: pl\n      };\n\n    case 'MESSAGE':\n      return { ...state,\n        messages: message(state.messages, pl)\n      };\n\n    case 'CHANGE_LAST_MSSG':\n      return { ...state,\n        conversations: changeLastMsgg(state.conversations, pl, 'user')\n      };\n\n    case 'DELETE_MESSAGE':\n      return { ...state,\n        messages: deleteMssg(state.messages, pl)\n      };\n\n    case 'UNSEND_ALL_MSSGS':\n      return { ...state,\n        messages: unsendAllMssgs(state.messages, pl)\n      };\n\n    case 'DELETE_CONVERSATION':\n      return { ...state,\n        conversations: deleteConversation(state.conversations, pl)\n      };\n\n    case 'GET_CONVERSATION_ABOUT':\n      return { ...state,\n        conAbout: pl\n      };\n\n    case 'GET_UNREAD_MESSAGES':\n      return { ...state,\n        unreadMessages: pl\n      };\n\n    case 'READ_CONVERSATION':\n      return { ...state,\n        conversations: readCon(state.conversations, pl)\n      };\n\n    case 'UPDATE_UNREAD_CONMVERSATIONS':\n      return { ...state,\n        unreadMessages: state.unreadMessages - pl\n      };\n\n    case 'GET_ONLINE_USERS':\n      return { ...state,\n        onlineUsers: pl\n      };\n\n    case 'GET_CON_DETAILS':\n      return { ...state,\n        conDetails: pl\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/reducers/Message.js"],"names":["initialState","conversations","messages","conAbout","unreadMessages","onlineUsers","conDetails","con_with","con_with_username","con_with_firstname","con_with_surname","isOnline","lastOnline","addCon","cons","con","message","changeLastMsgg","mssgDetails","map","c","con_id","lastMssg","readCon","deleteMssg","message_id","filter","m","unsendAllMssgs","mssg_by","deleteConversation","state","action","pl","payload","type"],"mappings":"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","sourcesContent":["\r\nconst initialState = {\r\n    conversations: [],\r\n    messages: [],\r\n    conAbout: [],\r\n    unreadMessages: 0,\r\n    onlineUsers: [],\r\n    conDetails: {\r\n        con_with: null,\r\n        con_with_username: '',\r\n        con_with_firstname: '',\r\n        con_with_surname: '',\r\n        isOnline: 'no',\r\n        lastOnline: ''\r\n    }\r\n }\r\n\r\n const addCon = (cons,con) => {\r\n    cons = [...cons,con]\r\n    return cons;\r\n }\r\n\r\n const message = (messages,message) => {\r\n     messages = [...messages,message];\r\n     return messages;\r\n }\r\n\r\n const changeLastMsgg = (conversations, mssgDetails) => {\r\n     return conversations.map(c => {\r\n         if(c.con_id === mssgDetails.con_id){\r\n             c.lastMssg = mssgDetails.lastMssg\r\n         }\r\n         return c;\r\n     })\r\n } \r\n\r\n const readCon = (cons,con_id) => {\r\n     return cons.map(c => {\r\n         if(c.con_id === con_id){\r\n             c.unreadMessages = 0;\r\n         }\r\n         return c;\r\n     })\r\n }\r\n\r\n const deleteMssg = (messages,message_id) => messages.filter(m => m.message_id !== message_id);\r\n const unsendAllMssgs = (messages,mssg_by) => messages.filter(m => m.mssg_by !== mssg_by);\r\n const deleteConversation = (cons,con_id) => cons.filter(c => c.con_id !== con_id);\r\n\r\n export default (state=initialState,action) => {\r\n     let pl = action.payload;\r\n     switch(action.type){\r\n         case 'GET_CONVERSATIONS':\r\n             return {\r\n                 ...state,\r\n                 conversations: pl\r\n             }\r\n\r\n          case 'CONVERSATION_ADDED':\r\n              return {\r\n                  ...state,\r\n                  conversations: addCon(state.conversations,pl)\r\n              }    \r\n           \r\n           case 'GET_CONVERSATION_MESSAGES':\r\n               return {\r\n                   ...state,\r\n                   messages: pl\r\n               }   \r\n\r\n           case 'MESSAGE':\r\n               return {\r\n                   ...state,\r\n                   messages: message(state.messages,pl)\r\n               }  \r\n               \r\n            case 'CHANGE_LAST_MSSG':\r\n                return {\r\n                    ...state,\r\n                    conversations: changeLastMsgg(state.conversations,pl,'user')\r\n                }\r\n                \r\n             case 'DELETE_MESSAGE':\r\n                 return {\r\n                     ...state,\r\n                     messages: deleteMssg(state.messages,pl)\r\n                 }  \r\n                 \r\n              case 'UNSEND_ALL_MSSGS':\r\n                  return {\r\n                      ...state,\r\n                      messages: unsendAllMssgs(state.messages,pl)\r\n                  }    \r\n\r\n              case 'DELETE_CONVERSATION':\r\n                  return {\r\n                      ...state,\r\n                      conversations: deleteConversation(state.conversations,pl)\r\n                  }    \r\n                  \r\n              case 'GET_CONVERSATION_ABOUT':\r\n                  return {\r\n                      ...state,\r\n                      conAbout: pl\r\n                  }  \r\n               \r\n               case 'GET_UNREAD_MESSAGES':\r\n                   return {\r\n                       ...state,\r\n                       unreadMessages: pl\r\n                   }   \r\n\r\n               case 'READ_CONVERSATION':\r\n                   return {\r\n                       ...state,\r\n                       conversations: readCon(state.conversations,pl)\r\n                   }    \r\n\r\n                case 'UPDATE_UNREAD_CONMVERSATIONS':\r\n                    return {\r\n                        ...state,\r\n                        unreadMessages: state.unreadMessages - pl\r\n                    }   \r\n\r\n                case 'GET_ONLINE_USERS':\r\n                    return{\r\n                        ...state,\r\n                        onlineUsers: pl\r\n                    }   \r\n                \r\n                case 'GET_CON_DETAILS':\r\n                    return {\r\n                        ...state,\r\n                        conDetails: pl\r\n                    } \r\n                    \r\n           default:\r\n               return state;         \r\n     }\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}