{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\messages\\\\conversation\\\\message\\\\tools\\\\delete-message-tool.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { deleteMessage } from '../../../../../utils/message-utils';\nimport { isAdmin } from '../../../../../utils/admin-utils';\nimport Prompt from '../../../../others/prompt';\nimport MaterialIcon from '../../../../others/icons/material-icon';\nimport { number, string, shape } from 'prop-types';\n\nclass DeleteMessageTool extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      deleteMessage: false\n    };\n\n    this.toggleDelete = () => this.setState({\n      deleteMessage: !this.state.deleteMessage\n    });\n\n    this.delete = async e => {\n      e.preventDefault();\n      let {\n        messageDetails: {\n          message_id,\n          message,\n          type\n        },\n        dispatch\n      } = this.props;\n      deleteMessage({\n        message_id,\n        message,\n        type,\n        dispatch,\n        done: () => this.toggleDelete\n      });\n    };\n  }\n\n  render() {\n    let {\n      deleteMessage\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"toggle_dlt_mssg\",\n      onClick: this.toggleDelete,\n      \"data-tip\": `Delete ${isAdmin() ? 'as admin' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MaterialIcon, {\n      icon: \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 22\n      }\n    })), deleteMessage && /*#__PURE__*/React.createElement(Prompt, {\n      title: \"Delete message\",\n      content: \"This message will be deleted.There's no undo so you won't be able to find it\",\n      actionText: \"Delete\",\n      action: this.delete,\n      back: this.toggleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }));\n  }\n\n}\n\nDeleteMessageTool.propTypes = {\n  messageDetails: shape({\n    message_id: number.isRequired,\n    message: string.isRequired,\n    type: string.isRequired\n  }).isRequired\n};\nexport default connect()(DeleteMessageTool);\nexport { DeleteMessageTool as PureDeleteMessageTool };","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/messages/conversation/message/tools/delete-message-tool.js"],"names":["React","Component","Fragment","connect","deleteMessage","isAdmin","Prompt","MaterialIcon","number","string","shape","DeleteMessageTool","state","toggleDelete","setState","delete","e","preventDefault","messageDetails","message_id","message","type","dispatch","props","done","render","propTypes","isRequired","PureDeleteMessageTool"],"mappings":";AAAC,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,aAAR,QAA4B,oCAA5B;AACA,SAAQC,OAAR,QAAsB,kCAAtB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,YAAP,MAAyB,wCAAzB;AACA,SAAQC,MAAR,EAAeC,MAAf,EAAsBC,KAAtB,QAAkC,YAAlC;;AAEA,MAAMC,iBAAN,SAAgCV,SAAhC,CAAyC;AAAA;AAAA;AAAA,SACtCW,KADsC,GAC9B;AAAER,MAAAA,aAAa,EAAE;AAAjB,KAD8B;;AAAA,SAGtCS,YAHsC,GAGvB,MAAM,KAAKC,QAAL,CAAc;AAAEV,MAAAA,aAAa,EAAE,CAAC,KAAKQ,KAAL,CAAWR;AAA7B,KAAd,CAHiB;;AAAA,SAKtCW,MALsC,GAK7B,MAAMC,CAAN,IAAW;AAChBA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAI;AAACC,QAAAA,cAAc,EAAE;AAACC,UAAAA,UAAD;AAAYC,UAAAA,OAAZ;AAAoBC,UAAAA;AAApB,SAAjB;AAA2CC,QAAAA;AAA3C,UAAuD,KAAKC,KAAhE;AACAnB,MAAAA,aAAa,CAAC;AACVe,QAAAA,UADU;AAEVC,QAAAA,OAFU;AAGVC,QAAAA,IAHU;AAIVC,QAAAA,QAJU;AAKVE,QAAAA,IAAI,EAAE,MAAM,KAAKX;AALP,OAAD,CAAb;AAOH,KAfqC;AAAA;;AAiBtCY,EAAAA,MAAM,GAAE;AACJ,QAAI;AAACrB,MAAAA;AAAD,QAAkB,KAAKQ,KAA3B;AAEA,wBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,SAAS,EAAC,iBAAhB;AAAkC,MAAA,OAAO,EAAE,KAAKC,YAAhD;AAA8D,kBAAW,UAASR,OAAO,KAAK,UAAL,GAAkB,EAAG,EAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACK,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADL,CADJ,EAKKD,aAAa,iBACV,oBAAC,MAAD;AACE,MAAA,KAAK,EAAC,gBADR;AAEE,MAAA,OAAO,EAAC,8EAFV;AAGE,MAAA,UAAU,EAAC,QAHb;AAIE,MAAA,MAAM,EAAE,KAAKW,MAJf;AAKE,MAAA,IAAI,EAAE,KAAKF,YALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANR,CADJ;AAiBH;;AArCqC;;AAyCzCF,iBAAiB,CAACe,SAAlB,GAA8B;AAC1BR,EAAAA,cAAc,EAAER,KAAK,CAAC;AAClBS,IAAAA,UAAU,EAAEX,MAAM,CAACmB,UADD;AAElBP,IAAAA,OAAO,EAAEX,MAAM,CAACkB,UAFE;AAGlBN,IAAAA,IAAI,EAAEZ,MAAM,CAACkB;AAHK,GAAD,CAAL,CAIVA;AALoB,CAA9B;AAQA,eAAexB,OAAO,GAAGQ,iBAAH,CAAtB;AACA,SAAQA,iBAAiB,IAAIiB,qBAA7B","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {deleteMessage} from '../../../../../utils/message-utils';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import Prompt from '../../../../others/prompt';\r\n import MaterialIcon from '../../../../others/icons/material-icon';\r\n import {number,string,shape} from 'prop-types';\r\n\r\n class DeleteMessageTool extends Component{\r\n    state = { deleteMessage: false }\r\n\r\n    toggleDelete = () => this.setState({ deleteMessage: !this.state.deleteMessage })\r\n\r\n    delete = async e => {\r\n        e.preventDefault();\r\n        let {messageDetails: {message_id,message,type},dispatch} = this.props;\r\n        deleteMessage({\r\n            message_id,\r\n            message,\r\n            type,\r\n            dispatch,\r\n            done: () => this.toggleDelete\r\n        }) \r\n    }\r\n\r\n    render(){\r\n        let {deleteMessage} = this.state;\r\n\r\n        return (\r\n            <Fragment>\r\n                <span className=\"toggle_dlt_mssg\" onClick={this.toggleDelete} data-tip={`Delete ${isAdmin() ? 'as admin' : ''}`} >\r\n                     <MaterialIcon icon=\"delete\" />\r\n                </span>\r\n\r\n                {deleteMessage && (\r\n                    <Prompt\r\n                      title=\"Delete message\"\r\n                      content=\"This message will be deleted.There's no undo so you won't be able to find it\"\r\n                      actionText=\"Delete\"\r\n                      action={this.delete}\r\n                      back={this.toggleDelete}\r\n                    />\r\n                )}\r\n            </Fragment>\r\n        )\r\n    }\r\n }\r\n\r\n\r\n DeleteMessageTool.propTypes = {\r\n     messageDetails: shape({\r\n         message_id: number.isRequired,\r\n         message: string.isRequired,\r\n         type: string.isRequired\r\n        }).isRequired\r\n }\r\n\r\n export default connect()(DeleteMessageTool)\r\n export {DeleteMessageTool as PureDeleteMessageTool}"]},"metadata":{},"sourceType":"module"}