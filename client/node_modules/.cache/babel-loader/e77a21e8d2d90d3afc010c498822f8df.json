{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\others\\\\follow\\\\advancedFollow.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Me } from '../../../utils/utils';\nimport { follow } from '../../../utils/user-interact-utils';\nimport PrimaryButton from '../../others/button/primary-button';\nimport { number, string, func, shape } from 'prop-types';\n\nconst AdvancedFollow = ({\n  userDetails,\n  followed,\n  user_details,\n  dispatch\n}) => {\n  let {\n    user,\n    username,\n    firstname,\n    surname\n  } = userDetails;\n  let {\n    id\n  } = user_details;\n\n  let followUser = e => {\n    e.preventDefault();\n    let profile_page = window.location.pathname.includes('/profile');\n    let def = {\n      user,\n      username,\n      done: () => followed()\n    };\n    let obj;\n\n    if (!profile_page) {\n      obj = def;\n    } else if (profile_page) {\n      if (Me(id)) {\n        obj = { ...def,\n          firstname,\n          surname,\n          dispatch,\n          update_followings: true\n        };\n      } else if (user == id) {\n        obj = { ...def,\n          dispatch,\n          update_followers: true\n        };\n      } else {\n        obj = def;\n      }\n    }\n\n    follow(obj);\n  };\n\n  return /*#__PURE__*/React.createElement(PrimaryButton, {\n    label: \"Follow\",\n    onClick: followUser,\n    extraClass: \"follow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  });\n};\n\nAdvancedFollow.propTypes = {\n  userDetails: shape({\n    user: number.isRequired,\n    username: string.isRequired,\n    firstname: string.isRequired,\n    surname: string.isRequired\n  }).isRequired,\n  followed: func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user_details: state.User.user_details\n});\n\nexport default connect(mapStateToProps)(AdvancedFollow);","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/others/follow/advancedFollow.js"],"names":["React","connect","Me","follow","PrimaryButton","number","string","func","shape","AdvancedFollow","userDetails","followed","user_details","dispatch","user","username","firstname","surname","id","followUser","e","preventDefault","profile_page","window","location","pathname","includes","def","done","obj","update_followings","update_followers","propTypes","isRequired","mapStateToProps","state","User"],"mappings":";AAAC,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,EAAR,QAAiB,sBAAjB;AACA,SAAQC,MAAR,QAAqB,oCAArB;AACA,OAAOC,aAAP,MAA0B,oCAA1B;AACA,SAAQC,MAAR,EAAeC,MAAf,EAAsBC,IAAtB,EAA2BC,KAA3B,QAAuC,YAAvC;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAaC,EAAAA,QAAb;AAAsBC,EAAAA,YAAtB;AAAmCC,EAAAA;AAAnC,CAAD,KAAkD;AACtE,MAAI;AAACC,IAAAA,IAAD;AAAMC,IAAAA,QAAN;AAAeC,IAAAA,SAAf;AAAyBC,IAAAA;AAAzB,MAAoCP,WAAxC;AACA,MAAI;AAACQ,IAAAA;AAAD,MAAON,YAAX;;AAEA,MAAIO,UAAU,GAAGC,CAAC,IAAI;AAClBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,YAAY,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,QAAzB,CAAkC,UAAlC,CAAnB;AACA,QAAIC,GAAG,GAAG;AACGb,MAAAA,IADH;AAEGC,MAAAA,QAFH;AAGGa,MAAAA,IAAI,EAAE,MAAMjB,QAAQ;AAHvB,KAAV;AAKA,QAAIkB,GAAJ;;AAEA,QAAG,CAACP,YAAJ,EAAiB;AACfO,MAAAA,GAAG,GAAGF,GAAN;AACD,KAFD,MAEO,IAAGL,YAAH,EAAgB;AACtB,UAAGpB,EAAE,CAACgB,EAAD,CAAL,EAAU;AACNW,QAAAA,GAAG,GAAG,EACF,GAAGF,GADD;AAEFX,UAAAA,SAFE;AAGFC,UAAAA,OAHE;AAIFJ,UAAAA,QAJE;AAKFiB,UAAAA,iBAAiB,EAAE;AALjB,SAAN;AAOH,OARD,MAQO,IAAGhB,IAAI,IAAII,EAAX,EAAc;AACjBW,QAAAA,GAAG,GAAG,EACF,GAAGF,GADD;AAEFd,UAAAA,QAFE;AAGFkB,UAAAA,gBAAgB,EAAE;AAHhB,SAAN;AAKH,OANM,MAMA;AACHF,QAAAA,GAAG,GAAGF,GAAN;AACH;AACH;;AAEHxB,IAAAA,MAAM,CAAC0B,GAAD,CAAN;AACA,GAjCA;;AAmCF,sBACM,oBAAC,aAAD;AACI,IAAA,KAAK,EAAC,QADV;AAEI,IAAA,OAAO,EAAEV,UAFb;AAGI,IAAA,UAAU,EAAC,QAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADN;AAOA,CA9CD;;AA+CAV,cAAc,CAACuB,SAAf,GAA2B;AACvBtB,EAAAA,WAAW,EAAEF,KAAK,CAAC;AACfM,IAAAA,IAAI,EAAET,MAAM,CAAC4B,UADE;AAEflB,IAAAA,QAAQ,EAAET,MAAM,CAAC2B,UAFF;AAGfjB,IAAAA,SAAS,EAAEV,MAAM,CAAC2B,UAHH;AAIfhB,IAAAA,OAAO,EAAEX,MAAM,CAAC2B;AAJD,GAAD,CAAL,CAKPA,UANiB;AAOvBtB,EAAAA,QAAQ,EAAEJ,IAAI,CAAC0B;AAPQ,CAA3B;;AAUA,MAAMC,eAAe,GAAGC,KAAK,KAAK;AAC9BvB,EAAAA,YAAY,EAAEuB,KAAK,CAACC,IAAN,CAAWxB;AADK,CAAL,CAA7B;;AAIA,eAAeX,OAAO,CAACiC,eAAD,CAAP,CAAyBzB,cAAzB,CAAf","sourcesContent":[" import React from 'react';\r\n import {connect} from 'react-redux';\r\n import {Me} from '../../../utils/utils';\r\n import {follow} from '../../../utils/user-interact-utils';\r\n import PrimaryButton from '../../others/button/primary-button';\r\n import {number,string,func,shape} from 'prop-types';\r\n\r\n const AdvancedFollow = ({userDetails,followed,user_details,dispatch}) => {\r\n    let {user,username,firstname,surname} = userDetails;\r\n    let {id} = user_details;\r\n\r\n    let followUser = e => {\r\n        e.preventDefault();\r\n        let profile_page = window.location.pathname.includes('/profile')\r\n        let def = {\r\n                     user,\r\n                     username,\r\n                     done: () => followed()\r\n                  }\r\n        let obj;\r\n\r\n        if(!profile_page){\r\n          obj = def\r\n        } else if(profile_page){\r\n         if(Me(id)){\r\n             obj = {\r\n                 ...def,\r\n                 firstname,\r\n                 surname,\r\n                 dispatch,\r\n                 update_followings: true\r\n               }            \r\n         } else if(user == id){\r\n             obj = {\r\n                 ...def,\r\n                 dispatch,\r\n                 update_followers: true\r\n             } \r\n         } else {\r\n             obj = def\r\n         } \r\n      }\r\n\r\n    follow(obj)\r\n   }\r\n\r\n  return (\r\n        <PrimaryButton\r\n            label=\"Follow\"\r\n            onClick={followUser}\r\n            extraClass=\"follow\"\r\n        />\r\n    )\r\n }\r\n AdvancedFollow.propTypes = {\r\n     userDetails: shape({\r\n         user: number.isRequired,\r\n         username: string.isRequired,\r\n         firstname: string.isRequired,\r\n         surname: string.isRequired\r\n        }).isRequired,\r\n     followed: func.isRequired   \r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     user_details: state.User.user_details\r\n })\r\n\r\n export default connect(mapStateToProps)(AdvancedFollow) "]},"metadata":{},"sourceType":"module"}