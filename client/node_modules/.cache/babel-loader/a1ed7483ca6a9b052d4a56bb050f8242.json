{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{post}from'axios';import{Scrollbars}from'react-custom-scrollbars';import{FadeIn}from'animate-components';import classNames from'classnames';import{cLoading}from'../../../utils/utils';import d from'../../../utils/api/Dom';import MapStickers from'./map-stickers';import IsLoading from'../isLoading';import Overlay from'../overlay';import PrimaryButton from'../../others/button/primary-button';import ModalHeader from'../modal/modal-header';import ModalBack from'../modal/modal-back';var Stickers=/*#__PURE__*/function(_Component){_inherits(Stickers,_Component);var _super=_createSuper(Stickers);function Stickers(){var _this;_classCallCheck(this,Stickers);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={stickers:[],loading:true,selectedSticker:''};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$post,stickers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return post('/api/get-stickers');case 2:_yield$post=_context.sent;stickers=_yield$post.data;_this.setState({stickers:stickers,loading:false});case 5:case\"end\":return _context.stop();}}},_callee);}));_this.selectSticker=function(e){var sticker=new d(\"[data-sticker=\\\"sticker-\".concat(e,\"]\"));var siblings=new d('/sti_img');siblings.removeClass('sti_img_active');sticker.addClass('sti_img_active');new d('.btn_select_sticker').focus();_this.setState({selectedSticker:e});};_this.chooseSticker=function(e){e.preventDefault();new d('.btn_select_sticker').addClass('a_disabled');var selectedSticker=_this.state.selectedSticker;var _this$back=_this.back,back=_this$back.back,stickerSelected=_this$back.stickerSelected;stickerSelected(selectedSticker);back();};return _this;}_createClass(Stickers,[{key:\"render\",value:function render(){var _this$state=this.state,loading=_this$state.loading,stickers=_this$state.stickers;var _this$props=this.props,back=_this$props.back,disabled=_this$props.disabled;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Overlay,null),/*#__PURE__*/React.createElement(\"div\",{className:\"stickers_modal modal modal_big\"},/*#__PURE__*/React.createElement(FadeIn,{duration:\"300ms\"},/*#__PURE__*/React.createElement(ModalHeader,{title:\"Choose a sticker\"}),/*#__PURE__*/React.createElement(Scrollbars,{style:{height:450},className:\"modal_middle\"},/*#__PURE__*/React.createElement(IsLoading,{loading:loading}),/*#__PURE__*/React.createElement(\"div\",{className:classNames('modal_main',cLoading(loading))},/*#__PURE__*/React.createElement(MapStickers,{stickers:stickers,selectSticker:this.selectSticker}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal_bottom\"},/*#__PURE__*/React.createElement(ModalBack,{back:back,btnType:\"secondary\"}),/*#__PURE__*/React.createElement(PrimaryButton,{label:\"Choose\",onClick:this.chooseSticker,extraClass:\"btn_select_sticker\",disabled:disabled})))));}}]);return Stickers;}(Component);export{Stickers as default};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/others/stickers/stickers.js"],"names":["React","Component","Fragment","post","Scrollbars","FadeIn","classNames","cLoading","d","MapStickers","IsLoading","Overlay","PrimaryButton","ModalHeader","ModalBack","Stickers","state","stickers","loading","selectedSticker","componentDidMount","data","setState","selectSticker","e","sticker","siblings","removeClass","addClass","focus","chooseSticker","preventDefault","back","stickerSelected","props","disabled","height"],"mappings":"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","sourcesContent":["import React,{Component,Fragment} from 'react';\r\nimport {post} from 'axios';\r\nimport {Scrollbars} from 'react-custom-scrollbars';\r\nimport {FadeIn} from 'animate-components';\r\nimport classNames from 'classnames';\r\nimport {cLoading} from '../../../utils/utils';\r\nimport d from '../../../utils/api/Dom';\r\nimport MapStickers from './map-stickers';\r\nimport IsLoading from '../isLoading';\r\nimport Overlay from '../overlay';\r\nimport PrimaryButton from '../../others/button/primary-button';\r\nimport ModalHeader from '../modal/modal-header';\r\nimport ModalBack from '../modal/modal-back';\r\nimport {func} from 'prop-types';\r\n\r\n\r\nexport default class Stickers extends Component {\r\n    state = {\r\n        stickers: [],\r\n        loading: true,\r\n        selectedSticker: ''\r\n       }\r\n\r\n    componentDidMount = async () => {\r\n      let {data: stickers} = await post('/api/get-stickers')\r\n      this.setState({\r\n          stickers,\r\n          loading: false\r\n      })\r\n    }  \r\n    \r\n    selectSticker = e => {\r\n        let sticker = new d(`[data-sticker=\"sticker-${e}]`)\r\n        let siblings = new d('/sti_img')\r\n\r\n        siblings.removeClass('sti_img_active');\r\n        sticker.addClass('sti_img_active')\r\n        new d('.btn_select_sticker').focus()\r\n\r\n        this.setState({ selectedSticker: e })\r\n    }\r\n\r\n    chooseSticker = e => {\r\n        e.preventDefault()\r\n        new d('.btn_select_sticker').addClass('a_disabled');\r\n\r\n        let {selectedSticker} = this.state;\r\n        let {back,stickerSelected} = this.back;\r\n        stickerSelected(selectedSticker);\r\n        back()\r\n    }\r\n\r\n    render(){\r\n        let {loading,stickers} = this.state;\r\n        let {back,disabled} = this.props;\r\n\r\n        return (\r\n            <Fragment>\r\n                <Overlay />\r\n\r\n                <div className=\"stickers_modal modal modal_big\">\r\n                    <FadeIn duration=\"300ms\">\r\n                        <ModalHeader title=\"Choose a sticker\" />\r\n\r\n                        <Scrollbars style={{ height: 450 }} className=\"modal_middle\">\r\n                            <IsLoading loading={loading} />\r\n\r\n                            <div className={classNames('modal_main',cLoading(loading))} >\r\n                                <MapStickers stickers={stickers} selectSticker={this.selectSticker} />\r\n                            </div>\r\n                        </Scrollbars>\r\n\r\n                        <div className=\"modal_bottom\">\r\n                            <ModalBack back={back} btnType=\"secondary\" />\r\n                            <PrimaryButton\r\n                                  label=\"Choose\"\r\n                                  onClick={this.chooseSticker}\r\n                                  extraClass=\"btn_select_sticker\"\r\n                                  disabled={disabled}\r\n                            />\r\n                        </div>\r\n                    </FadeIn>\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nStickers.propTypes = {\r\n   back: func.isRequired,\r\n   stickerSelected: func.isRequired\r\n}"]},"metadata":{},"sourceType":"module"}