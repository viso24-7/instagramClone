{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{Fragment}from'react';import{connect}from'react-redux';import{post}from'axios';import{notify}from'../../../../../utils/utilMethods/handy-notification';import{removeFavourites}from'../../../../../actions/follow';import{Me}from'../../../../../utils/utils';import{isAdmin}from'../../../../../utils/admin-utils';import SecondaryButton from'../../../../others/button/secondary-button';var RemoveFav=function RemoveFav(_ref){var fav_id=_ref.fav_id,username=_ref.username,id=_ref.id,dispatch=_ref.dispatch;var removeFav=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$post,_yield$post$data,success,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return post('/api/remove-favourites',{fav_id:fav_id});case 3:_yield$post=_context.sent;_yield$post$data=_yield$post.data;success=_yield$post$data.success;message=_yield$post$data.message;if(success){dispatch(removeFavourites(fav_id));notify({value:\"Removed \".concat(username,\" from favourites\")});}else{notify({value:message});}case 8:case\"end\":return _context.stop();}}},_callee);}));return function removeFav(_x){return _ref2.apply(this,arguments);};}();var btnLabel=\"Remove \".concat(isAdmin()?'as admin':'');return/*#__PURE__*/React.createElement(Fragment,null,Me(id)||isAdmin()?/*#__PURE__*/React.createElement(SecondaryButton,{label:btnLabel,onClick:removeFav}):null);};var mapStateToProps=function mapStateToProps(state){return{id:state.User.user_details.id};};export default connect(mapStateToProps)(RemoveFav);export{RemoveFav as PureRemoveFav};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/profile/sections/favourites/favourite/remove-favourite.js"],"names":["React","Fragment","connect","post","notify","removeFavourites","Me","isAdmin","SecondaryButton","RemoveFav","fav_id","username","id","dispatch","removeFav","e","preventDefault","data","success","message","value","btnLabel","mapStateToProps","state","User","user_details","PureRemoveFav"],"mappings":"mVAAC,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,IAAR,KAAmB,OAAnB,CACA,OAAQC,MAAR,KAAqB,qDAArB,CACA,OAAQC,gBAAR,KAA+B,+BAA/B,CACA,OAAQC,EAAR,KAAiB,4BAAjB,CACA,OAAQC,OAAR,KAAsB,kCAAtB,CACA,MAAOC,CAAAA,eAAP,KAA4B,4CAA5B,CAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAmC,IAAjCC,CAAAA,MAAiC,MAAjCA,MAAiC,CAA1BC,QAA0B,MAA1BA,QAA0B,CAAjBC,EAAiB,MAAjBA,EAAiB,CAAdC,QAAc,MAAdA,QAAc,CACjD,GAAIC,CAAAA,SAAS,2FAAG,iBAAMC,CAAN,mKACZA,CAAC,CAACC,cAAF,GADY,sBAEyBb,CAAAA,IAAI,CAAC,wBAAD,CAA0B,CAACO,MAAM,CAANA,MAAD,CAA1B,CAF7B,+DAEPO,IAFO,CAEDC,OAFC,kBAEDA,OAFC,CAEOC,OAFP,kBAEOA,OAFP,CAIZ,GAAGD,OAAH,CAAW,CACPL,QAAQ,CAACR,gBAAgB,CAACK,MAAD,CAAjB,CAAR,CACAN,MAAM,CAAC,CAAEgB,KAAK,mBAAaT,QAAb,oBAAP,CAAD,CAAN,CACH,CAHD,IAGO,CACHP,MAAM,CAAC,CAAEgB,KAAK,CAAED,OAAT,CAAD,CAAN,CACH,CATW,sDAAH,kBAATL,CAAAA,SAAS,6CAAb,CAYA,GAAIO,CAAAA,QAAQ,kBAAad,OAAO,GAAK,UAAL,CAAkB,EAAtC,CAAZ,CAEA,mBACK,oBAAC,QAAD,MACKD,EAAE,CAACM,EAAD,CAAF,EAAUL,OAAO,EAAjB,cACG,oBAAC,eAAD,EAAiB,KAAK,CAAEc,QAAxB,CAAkC,OAAO,CAAEP,SAA3C,EADH,CAEG,IAHR,CADL,CAOH,CAtBD,CA6BA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BX,EAAE,CAAEW,KAAK,CAACC,IAAN,CAAWC,YAAX,CAAwBb,EADE,CAAL,EAA7B,CAIA,cAAeV,CAAAA,OAAO,CAACoB,eAAD,CAAP,CAAyBb,SAAzB,CAAf,CACA,OAAQA,SAAS,GAAIiB,CAAAA,aAArB","sourcesContent":[" import React,{Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {notify} from '../../../../../utils/utilMethods/handy-notification';\r\n import {removeFavourites} from '../../../../../actions/follow';\r\n import {Me} from '../../../../../utils/utils';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import SecondaryButton from '../../../../others/button/secondary-button';\r\n import {number,string} from 'prop-types'\r\n\r\n const RemoveFav = ({fav_id,username,id,dispatch}) => {\r\n     let removeFav = async e => {\r\n         e.preventDefault()\r\n         let {data:{success,message}} = await post('/api/remove-favourites',{fav_id})\r\n\r\n         if(success){\r\n             dispatch(removeFavourites(fav_id))\r\n             notify({ value: `Removed ${username} from favourites`})\r\n         } else {\r\n             notify({ value: message })\r\n         }\r\n     }\r\n\r\n     let btnLabel = `Remove ${isAdmin() ? 'as admin' : ''}`\r\n\r\n     return (\r\n          <Fragment>\r\n              {Me(id) || isAdmin() ? (\r\n                  <SecondaryButton label={btnLabel} onClick={removeFav} />\r\n              ) : null }\r\n          </Fragment>\r\n     )\r\n }\r\n\r\n RemoveFav.propTypes = {\r\n     fav_id: number.isRequired,\r\n     username: string.isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     id: state.User.user_details.id\r\n })\r\n\r\n export default connect(mapStateToProps)(RemoveFav)\r\n export {RemoveFav as PureRemoveFav}"]},"metadata":{},"sourceType":"module"}