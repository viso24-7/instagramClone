{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{post}from'axios';import{Me}from'../../../../../utils/utils';import{timeAgo}from'../../../../../utils/utilMethods/handyTimeAgo';import RemoveFav from'./remove-favourite';import AppLink from'../../../../others/link/link';import Follow from'../../../../others/follow/follow';import Unfollow from'../../../../others/follow/unfollow';import MonSticky from'../../../../others/m-on/mon-sticky';import MonTopInfo from'../../../../others/m-on/mon-topinfo';var Favourite=/*#__PURE__*/function(_Component){_inherits(Favourite,_Component);var _super=_createSuper(Favourite);function Favourite(){var _this;_classCallCheck(this,Favourite);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isFollowing:false,showTime:false};_this.showTime=function(){return _this.setState({showTime:true});};_this.hideTime=function(){return _this.setState({showTime:false});};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props,user,username,_yield$post,isFollowing;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,user=_this$props.user,username=_this$props.username;if(Me(user)){_context.next=8;break;}_context.next=4;return post('/api/is-following',{username:username});case 4:_yield$post=_context.sent;isFollowing=_yield$post.data;_context.next=8;return _this.setState({isFollowing:isFollowing});case 8:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Favourite,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,isFollowing=_this$state.isFollowing,showTime=_this$state.showTime;var _this$props2=this.props,id=_this$props2.id,fav_id=_this$props2.fav_id,fav_time=_this$props2.fav_time,user=_this$props2.user,username=_this$props2.username,firstname=_this$props2.firstname,surname=_this$props2.surname;return/*#__PURE__*/React.createElement(\"div\",{className:\"m_on followers_m_on\",onMouseOver:this.showTime,onMouseOut:this.hideTime},/*#__PURE__*/React.createElement(MonTopInfo,{info:{user:user,username:username,firstname:firstname,surname:surname}}),/*#__PURE__*/React.createElement(MonSticky,{show:showTime,text:timeAgo(fav_time)}),/*#__PURE__*/React.createElement(\"div\",{className:\"m_bottom\"},/*#__PURE__*/React.createElement(RemoveFav,{fav_id:fav_id,username:username}),Me(user)?/*#__PURE__*/React.createElement(AppLink,{url:\"/profile/\".concat(username),className:\"sec_btn\",label:\"Profile\"}):isFollowing?/*#__PURE__*/React.createElement(Unfollow,{user:user,unfollowed:function unfollowed(){return _this2.setState({isFollowing:false});},updateFolowings:Me(id)}):/*#__PURE__*/React.createElement(Follow,{userDetails:{user:user,username:username,firstname:firstname,surname:surname},followed:function followed(){return _this2.setState({isFollowing:true});},updateFollowings:Me(id)})));}}]);return Favourite;}(Component);var mapStateToProps=function mapStateToProps(state){return{id:state.User.user_details.id};};export default connect(mapStateToProps)(Favourite);export{Favourite as PureFavourite};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/profile/sections/favourites/favourite/favourite.js"],"names":["React","Component","connect","post","Me","timeAgo","RemoveFav","AppLink","Follow","Unfollow","MonSticky","MonTopInfo","Favourite","state","isFollowing","showTime","setState","hideTime","componentDidMount","props","user","username","data","id","fav_id","fav_time","firstname","surname","mapStateToProps","User","user_details","PureFavourite"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {Me} from '../../../../../utils/utils';\r\n import {timeAgo} from '../../../../../utils/utilMethods/handyTimeAgo';\r\n import RemoveFav from './remove-favourite';\r\n import AppLink from '../../../../others/link/link'\r\n import Follow from '../../../../others/follow/follow';\r\n import Unfollow from '../../../../others/follow/unfollow';\r\n import MonSticky from '../../../../others/m-on/mon-sticky';\r\n import MonTopInfo from '../../../../others/m-on/mon-topinfo';\r\n import {number,string} from 'prop-types';\r\n\r\n class Favourite extends Component{\r\n    state = {\r\n        isFollowing: false,\r\n        showTime: false\r\n    }\r\n\r\n    showTime = () => this.setState({ showTime: true })\r\n    hideTime = () => this.setState({ showTime: false })\r\n\r\n    componentDidMount = async () => {\r\n        let {user,username} = this.props;\r\n        if(!Me(user)){\r\n            let {data: isFollowing} = await post('/api/is-following',{username})\r\n            await this.setState({ isFollowing})\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        let {isFollowing,showTime} = this.state;\r\n        let {id,fav_id,fav_time,user,username,firstname,surname} = this.props;\r\n\r\n        return (\r\n            <div className=\"m_on followers_m_on\" onMouseOver={this.showTime} onMouseOut={this.hideTime}>\r\n               <MonTopInfo info={{user,username,firstname,surname}} />\r\n               <MonSticky show={showTime} text={timeAgo(fav_time)} />\r\n\r\n               <div className=\"m_bottom\">\r\n                   <RemoveFav fav_id={fav_id} username={username} />\r\n                   {Me(user) ? (\r\n                       <AppLink url={`/profile/${username}`} className=\"sec_btn\" label=\"Profile\" />\r\n                    ) : isFollowing ? (\r\n                        <Unfollow user={user} unfollowed={() => this.setState({isFollowing: false})} updateFolowings={Me(id)} />\r\n                    ) : <Follow userDetails={{user,username,firstname,surname}} followed={() => this.setState({ isFollowing: true })} updateFollowings={Me(id)} />}\r\n               </div>\r\n            </div>\r\n        )\r\n    }\r\n }\r\n\r\n Favourite.propTypes = {\r\n     fav_id: number.isRequired,\r\n     fav_by: number.isRequired,\r\n     fav_time: string.isRequired,\r\n     user: number.isRequired,\r\n     username: string.isRequired,\r\n     firstname: string.isRequired,\r\n     surname: string.isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     id: state.User.user_details.id\r\n })\r\n\r\n export default connect(mapStateToProps)(Favourite)\r\n export {Favourite as PureFavourite}"]},"metadata":{},"sourceType":"module"}