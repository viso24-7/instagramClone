{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\messages\\\\conversation\\\\message\\\\edit.js\";\nimport React, { Component } from 'react';\nimport { post } from 'axios';\nimport { FadeIn } from 'animate-components';\nimport { notify } from '../../../../utils/utilMethods/handy-notification';\nimport Overlay from '../../../others/overlay';\nimport TextArea from '../../../others/input/textArea';\nimport PrimaryButton from '../../../others/button/primary-button';\nimport ModalHeader from '../../../others/modal/modal-header';\nimport ModalBack from '../../../others/modal/modal-back';\nimport AddEmojis from '../../../others/emojis/add-emojis';\nimport { number, string, func } from 'prop-types';\nexport default class Edit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      message: '',\n      ogMessage: ''\n    };\n\n    this.componentDidMount = () => {\n      let {\n        message\n      } = this.state;\n      this.setState({\n        message,\n        ogMessage: message\n      });\n    };\n\n    this.descrChange = ({\n      target: {\n        value\n      }\n    }) => {\n      this.setState({\n        message: value\n      });\n      this.props.changeMessage(value);\n    };\n\n    this.returnOnMessage = () => {\n      let {\n        ogMessage\n      } = this.state;\n      this.props.changeMessage(ogMessage);\n    };\n\n    this.back = () => {\n      let {\n        back\n      } = this.state;\n      this.returnOnMessage();\n      back();\n    };\n\n    this.updateMessage = async e => {\n      e.preventDefault();\n      let {\n        message\n      } = this.state;\n      let {\n        message_id,\n        back\n      } = this.props;\n      let {\n        data\n      } = await post('/api/edit-message', {\n        message,\n        message_id\n      });\n      data.success ? back() : this.returnOnMessage();\n      notify({\n        value: data.message\n      });\n    };\n  }\n\n  render() {\n    let {\n      message\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Overlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit_post modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FadeIn, {\n      duration: \"300ms\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      title: \"Edit message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"e_p_middle modal_middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TextArea, {\n      placeholder: \"message ...\",\n      className: \"e_p_textarea\",\n      value: message,\n      valueChange: this.descrChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"e_p_bottom modal_bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(AddEmojis, {\n      position: {\n        top: -30,\n        left: -217\n      },\n      textArea: \".e_p_textarea\",\n      updateTextArea: value => this.setState({\n        message: value\n      }),\n      recenterEmojis: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(ModalBack, {\n      back: this.back,\n      btnType: \"secondary\",\n      disabled: !message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(PrimaryButton, {\n      label: \"Update message\",\n      onClick: this.updateMessage,\n      disabled: !message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    })))));\n  }\n\n}\nEdit.propTypes = {\n  message: string.isRequired,\n  message_id: number.isRequired,\n  changeMessage: func.isRequired,\n  back: func.isRequired\n};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/messages/conversation/message/edit.js"],"names":["React","Component","post","FadeIn","notify","Overlay","TextArea","PrimaryButton","ModalHeader","ModalBack","AddEmojis","number","string","func","Edit","state","message","ogMessage","componentDidMount","setState","descrChange","target","value","props","changeMessage","returnOnMessage","back","updateMessage","e","preventDefault","message_id","data","success","render","top","left","propTypes","isRequired"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {post} from 'axios';\r\n import {FadeIn} from 'animate-components';\r\n import {notify} from  '../../../../utils/utilMethods/handy-notification';\r\n import Overlay from '../../../others/overlay';\r\n import TextArea from '../../../others/input/textArea';\r\n import PrimaryButton from '../../../others/button/primary-button';\r\n import ModalHeader from '../../../others/modal/modal-header';\r\n import ModalBack from '../../../others/modal/modal-back';\r\n import AddEmojis from '../../../others/emojis/add-emojis';\r\n import {number,string,func} from 'prop-types';\r\n\r\n export default class Edit extends Component {\r\n     state = {\r\n         message: '',\r\n         ogMessage: ''\r\n        }\r\n\r\n        componentDidMount = () => {\r\n            let { message } = this.state;\r\n            this.setState({\r\n                message,\r\n                ogMessage: message\r\n            })\r\n        }\r\n\r\n        descrChange = ({target: {value}}) => {\r\n            this.setState({ message: value })\r\n            this.props.changeMessage(value)\r\n        }\r\n\r\n        returnOnMessage = () => {\r\n            let {ogMessage} = this.state;\r\n            this.props.changeMessage(ogMessage)\r\n        }\r\n\r\n        back = () => {\r\n            let {back} = this.state;\r\n            this.returnOnMessage()\r\n            back()\r\n        }\r\n\r\n        updateMessage = async e => {\r\n            e.preventDefault()\r\n            let {message} = this.state;\r\n            let {message_id,back} = this.props;\r\n            let {data} = await post('/api/edit-message',{message,message_id})\r\n            data.success ? back() : this.returnOnMessage()\r\n            notify({ value: data.message })\r\n        }\r\n\r\n\r\n        render(){\r\n            let {message} = this.state;\r\n\r\n            return (\r\n                <div>\r\n                    <Overlay />\r\n\r\n                    <div className=\"edit_post modal\">\r\n                        <FadeIn duration=\"300ms\">\r\n                            <ModalHeader title=\"Edit message\" />\r\n\r\n                            <div className=\"e_p_middle modal_middle\">\r\n                                <TextArea\r\n                                   placeholder=\"message ...\"    \r\n                                   className=\"e_p_textarea\"\r\n                                   value={message}\r\n                                   valueChange={this.descrChange}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"e_p_bottom modal_bottom\">\r\n                                <AddEmojis \r\n                                    position={{ top:-30, left: -217 }}\r\n                                    textArea=\".e_p_textarea\"\r\n                                    updateTextArea={value => this.setState({ message: value })}\r\n                                    recenterEmojis\r\n                                />\r\n\r\n                                <ModalBack back={this.back} btnType=\"secondary\" disabled={!message} />\r\n                                <PrimaryButton label=\"Update message\" onClick={this.updateMessage} disabled={!message} />\r\n                            </div>\r\n                        </FadeIn>\r\n                    </div>\r\n                </div>\r\n            )\r\n       }\r\n }\r\n\r\n Edit.propTypes = {\r\n     message: string.isRequired,\r\n     message_id: number.isRequired,\r\n     changeMessage: func.isRequired,\r\n     back: func.isRequired\r\n }"]},"metadata":{},"sourceType":"module"}