{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import{connect}from'react-redux';import{post}from'axios';import{removeMember}from'../../../../../actions/group';import{isAdmin}from'../../../../../utils/admin-utils';import{notify}from'../../../../../utils/utilMethods/handy-notification';import Prompt from'../../../../others/prompt';import SecondaryButton from'../../../../others/button/secondary-button';var RemoveMember=/*#__PURE__*/function(_Component){_inherits(RemoveMember,_Component);var _super=_createSuper(RemoveMember);function RemoveMember(){var _this;_classCallCheck(this,RemoveMember);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={showPrompt:false};_this.showPrompt=function(e){e.preventDefault();_this.setState({showPrompt:true});};_this.hidePrompt=function(){return _this.setState({showPrompt:false});};_this.removeMember=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$props,_this$props$memberDet,group_member_id,member,username,group_id,dispatch;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$props=_this.props,_this$props$memberDet=_this$props.memberDetails,group_member_id=_this$props$memberDet.group_member_id,member=_this$props$memberDet.member,username=_this$props$memberDet.username,group_id=_this$props.group_details.group_id,dispatch=_this$props.dispatch;_context.next=4;return post('/api/remove-member',{member:member,group_id:group_id});case 4:dispatch(removeMember(group_member_id));notify({value:\"Removed \".concat(username)});case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(RemoveMember,[{key:\"render\",value:function render(){var showPrompt=this.state.showPrompt;var username=this.props.memberDetails.username;var btnLabel=\"Remove \".concat(isAdmin()?'as admin':'');return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(SecondaryButton,{label:btnLabel,onClick:this.showPrompt}),showPrompt&&/*#__PURE__*/React.createElement(Prompt,{title:\"Remove \".concat(username),content:\"This member will be permanently removed.Member would have to re-join the group\",actionText:\"Delete\",action:this.removeMember,back:this.hidePrompt}));}}]);return RemoveMember;}(Component);var mapStateToProps=function mapStateToProps(state){return{group_details:state.Group.group_details};};export default connect(mapStateToProps)(RemoveMember);export{RemoveMember as PureRemoveMember};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/group/sections/members/member/remove-member.js"],"names":["React","Component","Fragment","connect","post","removeMember","isAdmin","notify","Prompt","SecondaryButton","RemoveMember","state","showPrompt","e","preventDefault","setState","hidePrompt","props","memberDetails","group_member_id","member","username","group_id","group_details","dispatch","value","btnLabel","mapStateToProps","Group","PureRemoveMember"],"mappings":"++BAAC,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,KAAuC,OAAvC,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,IAAR,KAAmB,OAAnB,CACA,OAAQC,YAAR,KAA2B,8BAA3B,CACA,OAAQC,OAAR,KAAsB,kCAAtB,CACA,OAAQC,MAAR,KAAqB,qDAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,4CAA5B,C,GAGMC,CAAAA,Y,mVACFC,K,CAAQ,CAAEC,UAAU,CAAE,KAAd,C,OAERA,U,CAAa,SAAAC,CAAC,CAAI,CACdA,CAAC,CAACC,cAAF,GACA,MAAKC,QAAL,CAAc,CAAEH,UAAU,CAAE,IAAd,CAAd,EACH,C,OAEDI,U,CAAa,iBAAM,OAAKD,QAAL,CAAc,CAAEH,UAAU,CAAE,KAAd,CAAd,CAAN,E,OAEbP,Y,0FAAe,iBAAMQ,CAAN,0MACXA,CAAC,CAACC,cAAF,GADW,YAEgF,MAAKG,KAFrF,mCAENC,aAFM,CAEUC,eAFV,uBAEUA,eAFV,CAE0BC,MAF1B,uBAE0BA,MAF1B,CAEiCC,QAFjC,uBAEiCA,QAFjC,CAE0DC,QAF1D,aAE2CC,aAF3C,CAE0DD,QAF1D,CAEoEE,QAFpE,aAEoEA,QAFpE,uBAGLpB,CAAAA,IAAI,CAAC,oBAAD,CAAsB,CAACgB,MAAM,CAANA,MAAD,CAAQE,QAAQ,CAARA,QAAR,CAAtB,CAHC,QAIXE,QAAQ,CAACnB,YAAY,CAACc,eAAD,CAAb,CAAR,CACAZ,MAAM,CAAC,CAAEkB,KAAK,mBAAaJ,QAAb,CAAP,CAAD,CAAN,CALW,sD,6IAQN,IACCT,CAAAA,UADD,CACe,KAAKD,KADpB,CACCC,UADD,IAECS,CAAAA,QAFD,CAEa,KAAKJ,KAAL,CAAWC,aAFxB,CAECG,QAFD,CAGJ,GAAIK,CAAAA,QAAQ,kBAAapB,OAAO,GAAK,UAAL,CAAkB,EAAtC,CAAZ,CAEA,mBACI,oBAAC,QAAD,mBACI,oBAAC,eAAD,EAAiB,KAAK,CAAEoB,QAAxB,CAAkC,OAAO,CAAE,KAAKd,UAAhD,EADJ,CAGKA,UAAU,eACP,oBAAC,MAAD,EACG,KAAK,kBAAYS,QAAZ,CADR,CAEG,OAAO,CAAC,gFAFX,CAGG,UAAU,CAAC,QAHd,CAIG,MAAM,CAAE,KAAKhB,YAJhB,CAKG,IAAI,CAAE,KAAKW,UALd,EAJR,CADJ,CAeH,C,0BAtCqBf,S,EAiD3B,GAAM0B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAhB,KAAK,QAAK,CAC9BY,aAAa,CAAEZ,KAAK,CAACiB,KAAN,CAAYL,aADG,CAAL,EAA7B,CAIA,cAAepB,CAAAA,OAAO,CAACwB,eAAD,CAAP,CAAyBjB,YAAzB,CAAf,CACA,OAAQA,YAAY,GAAImB,CAAAA,gBAAxB","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {removeMember} from '../../../../../actions/group';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import {notify} from '../../../../../utils/utilMethods/handy-notification';\r\n import Prompt from '../../../../others/prompt'\r\n import SecondaryButton from '../../../../others/button/secondary-button';\r\n import {number,string,shape} from 'prop-types';\r\n\r\n class RemoveMember extends Component {\r\n     state = { showPrompt: false }\r\n \r\n     showPrompt = e => {\r\n         e.preventDefault()\r\n         this.setState({ showPrompt: true })\r\n     }\r\n\r\n     hidePrompt = () => this.setState({ showPrompt: false })\r\n\r\n     removeMember = async e => {\r\n         e.preventDefault();\r\n         let {memberDetails: {group_member_id,member,username},group_details:{group_id},dispatch} = this.props;\r\n         await post('/api/remove-member',{member,group_id})\r\n         dispatch(removeMember(group_member_id))\r\n         notify({ value: `Removed ${username}`})\r\n      }\r\n\r\n      render(){\r\n          let {showPrompt} = this.state;\r\n          let {username} = this.props.memberDetails;\r\n          let btnLabel = `Remove ${isAdmin() ? 'as admin' : ''}`\r\n\r\n          return (\r\n              <Fragment>\r\n                  <SecondaryButton label={btnLabel} onClick={this.showPrompt} />\r\n\r\n                  {showPrompt && (\r\n                      <Prompt\r\n                         title={`Remove ${username}`}\r\n                         content=\"This member will be permanently removed.Member would have to re-join the group\"\r\n                         actionText=\"Delete\"\r\n                         action={this.removeMember}\r\n                         back={this.hidePrompt}\r\n                      />\r\n                  )}\r\n              </Fragment>\r\n          )\r\n      }\r\n }\r\n\r\n RemoveMember.propTypes = {\r\n    memberDetails: shape({\r\n        group_member_id: number.isRequired,\r\n        member: number.isRequired,\r\n        username: string.isRequired\r\n     }).isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     group_details: state.Group.group_details\r\n })\r\n\r\n export default connect(mapStateToProps)(RemoveMember);\r\n export {RemoveMember as PureRemoveMember}"]},"metadata":{},"sourceType":"module"}