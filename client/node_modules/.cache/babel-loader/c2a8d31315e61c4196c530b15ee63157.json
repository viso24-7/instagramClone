{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\profile\\\\sections\\\\favourites\\\\favourite\\\\favourite.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { post } from 'axios';\nimport { Me } from '../../../../../utils/utils';\nimport { timeAgo } from '../../../../../utils/utilMethods/handyTimeAgo';\nimport RemoveFav from './remove-favourite';\nimport AppLink from '../../../../others/link/link';\nimport Follow from '../../../../others/follow/follow';\nimport Unfollow from '../../../../others/follow/unfollow';\nimport MonSticky from '../../../../others/m-on/mon-sticky';\nimport MonTopInfo from '../../../../others/m-on/mon-topinfo';\nimport { number, string } from 'prop-types';\n\nclass Favourite extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isFollowing: false,\n      showTime: false\n    };\n\n    this.showTime = () => this.setState({\n      showTime: true\n    });\n\n    this.hideTime = () => this.setState({\n      showTime: false\n    });\n\n    this.componentDidMount = async () => {\n      let {\n        user,\n        username\n      } = this.props;\n\n      if (!Me(user)) {\n        let {\n          data: isFollowing\n        } = await post('/api/is-following', {\n          username\n        });\n        await this.setState({\n          isFollowing\n        });\n      }\n    };\n  }\n\n  render() {\n    let {\n      isFollowing,\n      showTime\n    } = this.state;\n    let {\n      id,\n      fav_id,\n      fav_time,\n      user,\n      username,\n      firstname,\n      surname\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"m_on followers_m_on\",\n      onMouseOver: this.showTime,\n      onMouseOut: this.hideTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MonTopInfo, {\n      info: {\n        user,\n        username,\n        firstname,\n        surname\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(MonSticky, {\n      show: showTime,\n      text: timeAgo(fav_time),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"m_bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(RemoveFav, {\n      fav_id: fav_id,\n      username: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 20\n      }\n    }), Me(user) ? /*#__PURE__*/React.createElement(AppLink, {\n      url: `/profile/${username}`,\n      className: \"sec_btn\",\n      label: \"Profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 24\n      }\n    }) : isFollowing ? /*#__PURE__*/React.createElement(Unfollow, {\n      user: user,\n      unfollowed: () => this.setState({\n        isFollowing: false\n      }),\n      updateFolowings: Me(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(Follow, {\n      userDetails: {\n        user,\n        username,\n        firstname,\n        surname\n      },\n      followed: () => this.setState({\n        isFollowing: true\n      }),\n      updateFollowings: Me(id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 25\n      }\n    })));\n  }\n\n}\n\nFavourite.propTypes = {\n  fav_id: number.isRequired,\n  fav_by: number.isRequired,\n  fav_time: string.isRequired,\n  user: number.isRequired,\n  username: string.isRequired,\n  firstname: string.isRequired,\n  surname: string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  id: state.User.user_details.id\n});\n\nexport default connect(mapStateToProps)(Favourite);\nexport { Favourite as PureFavourite };","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/profile/sections/favourites/favourite/favourite.js"],"names":["React","Component","connect","post","Me","timeAgo","RemoveFav","AppLink","Follow","Unfollow","MonSticky","MonTopInfo","number","string","Favourite","state","isFollowing","showTime","setState","hideTime","componentDidMount","user","username","props","data","render","id","fav_id","fav_time","firstname","surname","propTypes","isRequired","fav_by","mapStateToProps","User","user_details","PureFavourite"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {Me} from '../../../../../utils/utils';\r\n import {timeAgo} from '../../../../../utils/utilMethods/handyTimeAgo';\r\n import RemoveFav from './remove-favourite';\r\n import AppLink from '../../../../others/link/link'\r\n import Follow from '../../../../others/follow/follow';\r\n import Unfollow from '../../../../others/follow/unfollow';\r\n import MonSticky from '../../../../others/m-on/mon-sticky';\r\n import MonTopInfo from '../../../../others/m-on/mon-topinfo';\r\n import {number,string} from 'prop-types';\r\n\r\n class Favourite extends Component{\r\n    state = {\r\n        isFollowing: false,\r\n        showTime: false\r\n    }\r\n\r\n    showTime = () => this.setState({ showTime: true })\r\n    hideTime = () => this.setState({ showTime: false })\r\n\r\n    componentDidMount = async () => {\r\n        let {user,username} = this.props;\r\n        if(!Me(user)){\r\n            let {data: isFollowing} = await post('/api/is-following',{username})\r\n            await this.setState({ isFollowing})\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        let {isFollowing,showTime} = this.state;\r\n        let {id,fav_id,fav_time,user,username,firstname,surname} = this.props;\r\n\r\n        return (\r\n            <div className=\"m_on followers_m_on\" onMouseOver={this.showTime} onMouseOut={this.hideTime}>\r\n               <MonTopInfo info={{user,username,firstname,surname}} />\r\n               <MonSticky show={showTime} text={timeAgo(fav_time)} />\r\n\r\n               <div className=\"m_bottom\">\r\n                   <RemoveFav fav_id={fav_id} username={username} />\r\n                   {Me(user) ? (\r\n                       <AppLink url={`/profile/${username}`} className=\"sec_btn\" label=\"Profile\" />\r\n                    ) : isFollowing ? (\r\n                        <Unfollow user={user} unfollowed={() => this.setState({isFollowing: false})} updateFolowings={Me(id)} />\r\n                    ) : <Follow userDetails={{user,username,firstname,surname}} followed={() => this.setState({ isFollowing: true })} updateFollowings={Me(id)} />}\r\n               </div>\r\n            </div>\r\n        )\r\n    }\r\n }\r\n\r\n Favourite.propTypes = {\r\n     fav_id: number.isRequired,\r\n     fav_by: number.isRequired,\r\n     fav_time: string.isRequired,\r\n     user: number.isRequired,\r\n     username: string.isRequired,\r\n     firstname: string.isRequired,\r\n     surname: string.isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     id: state.User.user_details.id\r\n })\r\n\r\n export default connect(mapStateToProps)(Favourite)\r\n export {Favourite as PureFavourite}"]},"metadata":{},"sourceType":"module"}