{"ast":null,"code":"import { post } from 'axios';\nimport { dispatchHelper } from '../utils/utils';\nimport { GET_CONVERSATION, GET_CONVERSATION_MESSAGES, GET_UNREAD_MESSAGES, GET_ONLINE_USERS, GET_CON_DETAILS, GET_CON_ABOUT, CONVERSATION_ADDED, MESSAGED, CHANGE_LAST_MSSG, DELETE_MSSG, UNSEND_ALL_MESSAGES, DELETE_CON, READ_CONVERSATION } from './types';\nexport const getConversation = () => dispatchHelper(GET_CONVERSATION, 'get-conversation');\nexport const getConversationMessages = (con_id, when) => dispatchHelper(GET_CONVERSATION_MESSAGES, 'get-conversation-messages', {\n  con_id,\n  when\n});\nexport const getUnreadMessages = () => dispatchHelper(GET_UNREAD_MESSAGES, 'get-unread-messages');\nexport const getOnlineUsers = () => dispatchHelper(GET_ONLINE_USERS, 'get-online-users');\nexport const getConDetails = con_id => dispatchHelper(GET_CON_DETAILS, 'get-con-details', {\n  con_id\n});\nexport const getConAbout = (con_id, user) => dispatchHelper(GET_CON_ABOUT, 'get-con-about', {\n  con_id,\n  user\n});\nexport const conversationAdded = conversation => {\n  return {\n    type: CONVERSATION_ADDED,\n    payload: conversation\n  };\n};\nexport const messaged = message => {\n  return {\n    type: MESSAGED,\n    payload: message\n  };\n};\nexport const changeLastMssg = lastMssg => {\n  return {\n    type: CHANGE_LAST_MSSG,\n    payload: lastMssg\n  };\n};\nexport const deleteMssg = message_id => {\n  return {\n    type: DELETE_MSSG,\n    payload: message_id\n  };\n};\nexport const unsendAllMessages = mssg_by => {\n  return {\n    type: UNSEND_ALL_MESSAGES,\n    payload: mssg_by\n  };\n};\nexport const deleteCon = con_id => {\n  return {\n    type: DELETE_CON,\n    payload: con_id\n  };\n};\nexport const readConversation = (con_id, unreadMssgs) => {\n  return dispatch => {\n    post('/api/read-conversation', {\n      con_id\n    }).then(() => {\n      dispatch({\n        type: READ_CONVERSATION,\n        payload: con_id\n      });\n\n      if (unreadMssgs !== 0) {\n        dispatch({\n          type: UPDATE_UNREAD_CONVERSATIONS,\n          payload: unreadMssgs\n        });\n      }\n    }).catch(e => console.log(e));\n  };\n};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/actions/message.js"],"names":["post","dispatchHelper","GET_CONVERSATION","GET_CONVERSATION_MESSAGES","GET_UNREAD_MESSAGES","GET_ONLINE_USERS","GET_CON_DETAILS","GET_CON_ABOUT","CONVERSATION_ADDED","MESSAGED","CHANGE_LAST_MSSG","DELETE_MSSG","UNSEND_ALL_MESSAGES","DELETE_CON","READ_CONVERSATION","getConversation","getConversationMessages","con_id","when","getUnreadMessages","getOnlineUsers","getConDetails","getConAbout","user","conversationAdded","conversation","type","payload","messaged","message","changeLastMssg","lastMssg","deleteMssg","message_id","unsendAllMessages","mssg_by","deleteCon","readConversation","unreadMssgs","dispatch","then","UPDATE_UNREAD_CONVERSATIONS","catch","e","console","log"],"mappings":"AAAC,SAAQA,IAAR,QAAmB,OAAnB;AACA,SAAQC,cAAR,QAA6B,gBAA7B;AACA,SAAQC,gBAAR,EAAyBC,yBAAzB,EAAmDC,mBAAnD,EAAuEC,gBAAvE,EAAwFC,eAAxF,EACQC,aADR,EACsBC,kBADtB,EACyCC,QADzC,EACkDC,gBADlD,EACmEC,WADnE,EAC+EC,mBAD/E,EAEQC,UAFR,EAEmBC,iBAFnB,QAE4C,SAF5C;AAKA,OAAO,MAAMC,eAAe,GAAG,MAAMd,cAAc,CAACC,gBAAD,EAAkB,kBAAlB,CAA5C;AACP,OAAO,MAAMc,uBAAuB,GAAG,CAACC,MAAD,EAAQC,IAAR,KAAiBjB,cAAc,CAACE,yBAAD,EAA2B,2BAA3B,EAAuD;AAACc,EAAAA,MAAD;AAAQC,EAAAA;AAAR,CAAvD,CAA/D;AACP,OAAO,MAAMC,iBAAiB,GAAG,MAAMlB,cAAc,CAACG,mBAAD,EAAqB,qBAArB,CAA9C;AACP,OAAO,MAAMgB,cAAc,GAAG,MAAMnB,cAAc,CAACI,gBAAD,EAAkB,kBAAlB,CAA3C;AACP,OAAO,MAAMgB,aAAa,GAAGJ,MAAM,IAAIhB,cAAc,CAACK,eAAD,EAAiB,iBAAjB,EAAmC;AAACW,EAAAA;AAAD,CAAnC,CAA9C;AACP,OAAO,MAAMK,WAAW,GAAG,CAACL,MAAD,EAAQM,IAAR,KAAiBtB,cAAc,CAACM,aAAD,EAAe,eAAf,EAA+B;AAACU,EAAAA,MAAD;AAAQM,EAAAA;AAAR,CAA/B,CAAnD;AAEP,OAAO,MAAMC,iBAAiB,GAAGC,YAAY,IAAI;AAC7C,SAAO;AACHC,IAAAA,IAAI,EAAElB,kBADH;AAEHmB,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMG,QAAQ,GAAGC,OAAO,IAAI;AAC/B,SAAO;AACHH,IAAAA,IAAI,EAAEjB,QADH;AAEHkB,IAAAA,OAAO,EAAEE;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMC,cAAc,GAAGC,QAAQ,IAAI;AACtC,SAAO;AACHL,IAAAA,IAAI,EAAEhB,gBADH;AAEHiB,IAAAA,OAAO,EAAEI;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMC,UAAU,GAAGC,UAAU,IAAI;AACpC,SAAO;AACHP,IAAAA,IAAI,EAAEf,WADH;AAEHgB,IAAAA,OAAO,EAAEM;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMC,iBAAiB,GAAGC,OAAO,IAAI;AACxC,SAAO;AACHT,IAAAA,IAAI,EAAEd,mBADH;AAEHe,IAAAA,OAAO,EAAEQ;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMC,SAAS,GAAGnB,MAAM,IAAI;AAC/B,SAAO;AACHS,IAAAA,IAAI,EAAEb,UADH;AAEHc,IAAAA,OAAO,EAAEV;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMoB,gBAAgB,GAAG,CAACpB,MAAD,EAAQqB,WAAR,KAAwB;AACpD,SAAOC,QAAQ,IAAI;AACfvC,IAAAA,IAAI,CAAC,wBAAD,EAA0B;AAACiB,MAAAA;AAAD,KAA1B,CAAJ,CACEuB,IADF,CACO,MAAM;AACRD,MAAAA,QAAQ,CAAC;AACLb,QAAAA,IAAI,EAAEZ,iBADD;AAELa,QAAAA,OAAO,EAAEV;AAFJ,OAAD,CAAR;;AAKA,UAAGqB,WAAW,KAAK,CAAnB,EAAqB;AACnBC,QAAAA,QAAQ,CAAC;AACLb,UAAAA,IAAI,EAAEe,2BADD;AAELd,UAAAA,OAAO,EAAEW;AAFJ,SAAD,CAAR;AAID;AACJ,KAbF,EAaII,KAbJ,CAaUC,CAAC,IAAIC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CAbf;AAcH,GAfD;AAgBH,CAjBM","sourcesContent":[" import {post} from 'axios';\r\n import {dispatchHelper} from '../utils/utils';\r\n import {GET_CONVERSATION,GET_CONVERSATION_MESSAGES,GET_UNREAD_MESSAGES,GET_ONLINE_USERS,GET_CON_DETAILS,\r\n         GET_CON_ABOUT,CONVERSATION_ADDED,MESSAGED,CHANGE_LAST_MSSG,DELETE_MSSG,UNSEND_ALL_MESSAGES,\r\n         DELETE_CON,READ_CONVERSATION,} from './types';\r\n\r\n\r\n export const getConversation = () => dispatchHelper(GET_CONVERSATION,'get-conversation');\r\n export const getConversationMessages = (con_id,when) => dispatchHelper(GET_CONVERSATION_MESSAGES,'get-conversation-messages',{con_id,when});\r\n export const getUnreadMessages = () => dispatchHelper(GET_UNREAD_MESSAGES,'get-unread-messages');\r\n export const getOnlineUsers = () => dispatchHelper(GET_ONLINE_USERS,'get-online-users');\r\n export const getConDetails = con_id => dispatchHelper(GET_CON_DETAILS,'get-con-details',{con_id});\r\n export const getConAbout = (con_id,user) => dispatchHelper(GET_CON_ABOUT,'get-con-about',{con_id,user});\r\n \r\n export const conversationAdded = conversation => {\r\n     return {\r\n         type: CONVERSATION_ADDED,\r\n         payload: conversation\r\n     }\r\n }\r\n\r\n export const messaged = message => {\r\n     return {\r\n         type: MESSAGED,\r\n         payload: message\r\n     }\r\n }\r\n\r\n export const changeLastMssg = lastMssg => {\r\n     return {\r\n         type: CHANGE_LAST_MSSG,\r\n         payload: lastMssg\r\n     }\r\n }\r\n\r\n export const deleteMssg = message_id => {\r\n     return {\r\n         type: DELETE_MSSG,\r\n         payload: message_id\r\n     }\r\n }\r\n \r\n export const unsendAllMessages = mssg_by => {\r\n     return {\r\n         type: UNSEND_ALL_MESSAGES,\r\n         payload: mssg_by\r\n     }\r\n }\r\n\r\n export const deleteCon = con_id => {\r\n     return {\r\n         type: DELETE_CON,\r\n         payload: con_id\r\n     }\r\n }\r\n\r\n export const readConversation = (con_id,unreadMssgs) => {\r\n     return dispatch => {\r\n         post('/api/read-conversation',{con_id})\r\n          .then(() => {\r\n              dispatch({\r\n                  type: READ_CONVERSATION,\r\n                  payload: con_id\r\n              })\r\n\r\n              if(unreadMssgs !== 0){\r\n                dispatch({\r\n                    type: UPDATE_UNREAD_CONVERSATIONS,\r\n                    payload: unreadMssgs\r\n                }) \r\n              }\r\n          }).catch(e => console.log(e))\r\n     }\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}