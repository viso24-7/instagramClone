{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\post\\\\comment\\\\comments\\\\options\\\\delete-comment-option.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { post } from 'axios';\nimport { deleteComment } from '../../../../../actions/post';\nimport { isAdmin } from '../../../../../utils/admin-utils';\nimport { Notify } from '../../../../../utils/utilMethods/handy-notification';\nimport Prompt from '../../../../others/prompt';\nimport { number, string, func, shape } from 'prop-types';\n\nclass DeleteCommentOption extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      deleteComment: false\n    };\n\n    this.showPrompt = e => {\n      e.preventDefault();\n      this.setState({\n        deleteComment: true\n      });\n    };\n\n    this.delComment = async e => {\n      e.preventDefault();\n      let {\n        commentDetails: {\n          comment_id,\n          type,\n          commentSrc\n        },\n        dispatch,\n        decrementComments\n      } = this.props;\n      await post('/api/delete-comment', {\n        comment_id,\n        type,\n        commentSrc\n      });\n      dispatch(deleteComment(comment_id));\n      decrementComments();\n      Notify({\n        value: 'Comment deleted'\n      });\n    };\n\n    this.modalBack = () => {\n      this.props.toggleOptions();\n      this.setState({\n        deleteComment: false\n      });\n    };\n  }\n\n  render() {\n    let {\n      deleteComment\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.showPrompt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }, `Delete comment ${isAdmin() ? 'as admin' : ''}`)), deleteComment && /*#__PURE__*/React.createElement(Prompt, {\n      title: \"delete comment\",\n      content: \"This comment will be deleted.There's no undo so you wont be able to find it\",\n      actionText: \"Delete\",\n      action: this.delComment,\n      back: this.modalBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 22\n      }\n    }));\n  }\n\n}\n\nDeleteCommentOption.propTypes = {\n  commentDetails: shape({\n    comment_id: number.isRequired,\n    commentSrc: string.isRequired,\n    type: string.isRequired\n  }).isRequired,\n  decrementComments: func.isRequired,\n  toggleOptions: func.isRequired\n};\nexport default connect()(DeleteCommentOption);\nexport { DeleteCommentOption as PureDeleteCommentOption };","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/comment/comments/options/delete-comment-option.js"],"names":["React","Component","Fragment","connect","post","deleteComment","isAdmin","Notify","Prompt","number","string","func","shape","DeleteCommentOption","state","showPrompt","e","preventDefault","setState","delComment","commentDetails","comment_id","type","commentSrc","dispatch","decrementComments","props","value","modalBack","toggleOptions","render","propTypes","isRequired","PureDeleteCommentOption"],"mappings":"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","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {deleteComment} from '../../../../../actions/post';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import {Notify} from '../../../../../utils/utilMethods/handy-notification';\r\n import Prompt from '../../../../others/prompt';\r\n import {number,string,func,shape} from 'prop-types';\r\n\r\n class DeleteCommentOption extends Component{\r\n     state = { deleteComment: false }\r\n\r\n     showPrompt = e => {\r\n         e.preventDefault();\r\n         this.setState({ deleteComment: true })\r\n     }\r\n\r\n     delComment = async e => {\r\n        e.preventDefault()\r\n        let {commentDetails:{comment_id,type,commentSrc},dispatch,decrementComments} = this.props;\r\n        await post('/api/delete-comment',{comment_id,type,commentSrc});\r\n        dispatch(deleteComment(comment_id))\r\n        decrementComments()\r\n        Notify({ value: 'Comment deleted'})\r\n     }\r\n\r\n     modalBack = () => {\r\n         this.props.toggleOptions()\r\n         this.setState({ deleteComment: false })\r\n     }\r\n\r\n\r\n     render(){\r\n         let {deleteComment} = this.state;\r\n\r\n         return (\r\n             <Fragment>\r\n                 <li>\r\n                    <a href=\"#\" onClick={this.showPrompt}>{`Delete comment ${isAdmin() ? 'as admin' : ''}`}</a>\r\n                 </li>\r\n\r\n                 {deleteComment && (\r\n                     <Prompt\r\n                         title=\"delete comment\"\r\n                         content=\"This comment will be deleted.There's no undo so you wont be able to find it\"\r\n                         actionText=\"Delete\"\r\n                         action={this.delComment}\r\n                         back={this.modalBack}\r\n                     />\r\n                 )}\r\n             </Fragment>\r\n         )\r\n     }\r\n }\r\n\r\n DeleteCommentOption.propTypes = {\r\n     commentDetails: shape({\r\n         comment_id: number.isRequired,\r\n         commentSrc: string.isRequired,\r\n         type: string.isRequired\r\n         }).isRequired,\r\n      decrementComments: func.isRequired,\r\n      toggleOptions: func.isRequired   \r\n }\r\n\r\n export default connect()(DeleteCommentOption)\r\n export {DeleteCommentOption as PureDeleteCommentOption}"]},"metadata":{},"sourceType":"module"}