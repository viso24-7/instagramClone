{"ast":null,"code":"var _jsxFileName = \"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\src\\\\components\\\\group\\\\sections\\\\members\\\\member\\\\remove-member.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { post } from 'axios';\nimport { removeMember } from '../../../../../actions/group';\nimport { isAdmin } from '../../../../../utils/admin-utils';\nimport { notify } from '../../../../../utils/utilMethods/handy-notification';\nimport Prompt from '../../../../others/prompt';\nimport SecondaryButton from '../../../../others/button/secondary-button';\nimport { number, string, shape } from 'prop-types';\n\nclass RemoveMember extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showPrompt: false\n    };\n\n    this.showPrompt = e => {\n      e.preventDefault();\n      this.setState({\n        showPrompt: true\n      });\n    };\n\n    this.hidePrompt = () => this.setState({\n      showPrompt: false\n    });\n\n    this.removeMember = async e => {\n      e.preventDefault();\n      let {\n        memberDetails: {\n          group_member_id,\n          member,\n          username\n        },\n        group_details: {\n          group_id\n        },\n        dispatch\n      } = this.props;\n      await post('/api/remove-member', {\n        member,\n        group_id\n      });\n      dispatch(removeMember(group_member_id));\n      notify({\n        value: `Removed ${username}`\n      });\n    };\n  }\n\n  render() {\n    let {\n      showPrompt\n    } = this.state;\n    let {\n      username\n    } = this.props.memberDetails;\n    let btnLabel = `Remove ${isAdmin() ? 'as admin' : ''}`;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(SecondaryButton, {\n      label: btnLabel,\n      onClick: this.showPrompt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 19\n      }\n    }), showPrompt && /*#__PURE__*/React.createElement(Prompt, {\n      title: `Remove ${username}`,\n      content: \"This member will be permanently removed.Member would have to re-join the group\",\n      actionText: \"Delete\",\n      action: this.removeMember,\n      back: this.hidePrompt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 23\n      }\n    }));\n  }\n\n}\n\nRemoveMember.propTypes = {\n  memberDetails: shape({\n    group_member_id: number.isRequired,\n    member: number.isRequired,\n    username: string.isRequired\n  }).isRequired\n};\n\nconst mapStateToProps = state => ({\n  group_details: state.Group.group_details\n});\n\nexport default connect(mapStateToProps)(RemoveMember);\nexport { RemoveMember as PureRemoveMember };","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/group/sections/members/member/remove-member.js"],"names":["React","Component","Fragment","connect","post","removeMember","isAdmin","notify","Prompt","SecondaryButton","number","string","shape","RemoveMember","state","showPrompt","e","preventDefault","setState","hidePrompt","memberDetails","group_member_id","member","username","group_details","group_id","dispatch","props","value","render","btnLabel","propTypes","isRequired","mapStateToProps","Group","PureRemoveMember"],"mappings":"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","sourcesContent":[" import React,{Component,Fragment} from 'react';\r\n import {connect} from 'react-redux';\r\n import {post} from 'axios';\r\n import {removeMember} from '../../../../../actions/group';\r\n import {isAdmin} from '../../../../../utils/admin-utils';\r\n import {notify} from '../../../../../utils/utilMethods/handy-notification';\r\n import Prompt from '../../../../others/prompt'\r\n import SecondaryButton from '../../../../others/button/secondary-button';\r\n import {number,string,shape} from 'prop-types';\r\n\r\n class RemoveMember extends Component {\r\n     state = { showPrompt: false }\r\n \r\n     showPrompt = e => {\r\n         e.preventDefault()\r\n         this.setState({ showPrompt: true })\r\n     }\r\n\r\n     hidePrompt = () => this.setState({ showPrompt: false })\r\n\r\n     removeMember = async e => {\r\n         e.preventDefault();\r\n         let {memberDetails: {group_member_id,member,username},group_details:{group_id},dispatch} = this.props;\r\n         await post('/api/remove-member',{member,group_id})\r\n         dispatch(removeMember(group_member_id))\r\n         notify({ value: `Removed ${username}`})\r\n      }\r\n\r\n      render(){\r\n          let {showPrompt} = this.state;\r\n          let {username} = this.props.memberDetails;\r\n          let btnLabel = `Remove ${isAdmin() ? 'as admin' : ''}`\r\n\r\n          return (\r\n              <Fragment>\r\n                  <SecondaryButton label={btnLabel} onClick={this.showPrompt} />\r\n\r\n                  {showPrompt && (\r\n                      <Prompt\r\n                         title={`Remove ${username}`}\r\n                         content=\"This member will be permanently removed.Member would have to re-join the group\"\r\n                         actionText=\"Delete\"\r\n                         action={this.removeMember}\r\n                         back={this.hidePrompt}\r\n                      />\r\n                  )}\r\n              </Fragment>\r\n          )\r\n      }\r\n }\r\n\r\n RemoveMember.propTypes = {\r\n    memberDetails: shape({\r\n        group_member_id: number.isRequired,\r\n        member: number.isRequired,\r\n        username: string.isRequired\r\n     }).isRequired\r\n }\r\n\r\n const mapStateToProps = state => ({\r\n     group_details: state.Group.group_details\r\n })\r\n\r\n export default connect(mapStateToProps)(RemoveMember);\r\n export {RemoveMember as PureRemoveMember}"]},"metadata":{},"sourceType":"module"}