{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{FadeIn}from'animate-components';import{editPost}from'../../../utils/post-utils';import d from'../../../utils/api/Dom';import ModalHeader from'../../others/modal/modal-header';import ModalBack from'../../others/modal/modal-back';import PrimaryButton from'../../others/button/primary-button';import AddEmojis from'../../others/emojis/add-emojis';import TextArea from'../../others/input/textArea';import Overlay from'../../others/overlay';var EditPost=/*#__PURE__*/function(_Component){_inherits(EditPost,_Component);var _super=_createSuper(EditPost);function EditPost(){var _this;_classCallCheck(this,EditPost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={description:'',ogDescription:''};_this.componentDidMount=function(){var description=_this.state.description;_this.setState({description:description,ogDescription:description});};_this.back=function(){var back=_this.props.back;_this.returnOgDescription();back();};_this.returnOgDescription=function(){var ogDescription=_this.state.ogDescription;_this.props.changeDesc(ogDescription);};_this.descChange=function(_ref){var value=_ref.target.value;_this.setState({description:value});_this.props.changeDesc(value);};_this.updatePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var description,_this$props,dispatch,post,back;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();description=_this.state.description;_this$props=_this.props,dispatch=_this$props.dispatch,post=_this$props.post,back=_this$props.back;new d('.e_p_update').addClass('a_disabled');editPost({post_id:post,description:description,dispatch:dispatch,done:function done(){return back();},failed:_this.returnOgDescription()});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(EditPost,[{key:\"render\",value:function render(){var _this2=this;var description=this.state.description;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Overlay,null),/*#__PURE__*/React.createElement(\"div\",{className:\"edit_post modal\"},/*#__PURE__*/React.createElement(FadeIn,{duration:\"300ms\"},/*#__PURE__*/React.createElement(ModalHeader,{title:\"Edit post\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"e_p_middle modal_middle\"},/*#__PURE__*/React.createElement(TextArea,{placeholder:\"Description ...\",className:\"e_p_textarea\",value:description,valueChange:this.descChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"e_p_bottom modal_bottom\",style:{marginTop:0}},/*#__PURE__*/React.createElement(AddEmojis,{position:{top:-32,left:-217},textArea:\".e_p_textarea\",updateTextArea:function updateTextArea(value){return _this2.setState({description:value});},recenterEmojis:true}),/*#__PURE__*/React.createElement(ModalBack,{back:this.back,btnType:\"secondary\"}),/*#__PURE__*/React.createElement(PrimaryButton,{label:\"Update post\",onClick:this.updatePost,extraClass:\"e_p_update\"})))));}}]);return EditPost;}(Component);export default connect()(EditPost);export{EditPost as PureEditPost};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/post/edit-post/editPost.js"],"names":["React","Component","connect","FadeIn","editPost","d","ModalHeader","ModalBack","PrimaryButton","AddEmojis","TextArea","Overlay","EditPost","state","description","ogDescription","componentDidMount","setState","back","props","returnOgDescription","changeDesc","descChange","value","target","updatePost","e","preventDefault","dispatch","post","addClass","post_id","done","failed","marginTop","top","left","PureEditPost"],"mappings":"++BAAC,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,MAAR,KAAqB,oBAArB,CACA,OAAQC,QAAR,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,CAAP,KAAc,wBAAd,CACA,MAAOC,CAAAA,WAAP,KAAwB,iCAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oCAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,gCAAtB,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,C,GAGMC,CAAAA,Q,mUACFC,K,CAAQ,CACJC,WAAW,CAAE,EADT,CAEJC,aAAa,CAAE,EAFX,C,OAKRC,iB,CAAoB,UAAM,IACjBF,CAAAA,WADiB,CACF,MAAKD,KADH,CACjBC,WADiB,CAEtB,MAAKG,QAAL,CAAc,CACVH,WAAW,CAAXA,WADU,CAEVC,aAAa,CAAED,WAFL,CAAd,EAIH,C,OAEDI,I,CAAO,UAAM,IACJA,CAAAA,IADI,CACI,MAAKC,KADT,CACJD,IADI,CAET,MAAKE,mBAAL,GACAF,IAAI,GACP,C,OAEDE,mB,CAAsB,UAAM,IACnBL,CAAAA,aADmB,CACF,MAAKF,KADH,CACnBE,aADmB,CAExB,MAAKI,KAAL,CAAWE,UAAX,CAAsBN,aAAtB,EACH,C,OAEDO,U,CAAa,cAAsB,IAAZC,CAAAA,KAAY,MAApBC,MAAoB,CAAZD,KAAY,CAC/B,MAAKN,QAAL,CAAc,CAAEH,WAAW,CAAES,KAAf,CAAd,EACA,MAAKJ,KAAL,CAAWE,UAAX,CAAsBE,KAAtB,EACH,C,OAEDE,U,2FAAa,iBAAMC,CAAN,iKACTA,CAAC,CAACC,cAAF,GACKb,WAFI,CAEW,MAAKD,KAFhB,CAEJC,WAFI,aAGkB,MAAKK,KAHvB,CAGJS,QAHI,aAGJA,QAHI,CAGKC,IAHL,aAGKA,IAHL,CAGUX,IAHV,aAGUA,IAHV,CAIT,GAAIb,CAAAA,CAAJ,CAAM,aAAN,EAAqByB,QAArB,CAA8B,YAA9B,EACA1B,QAAQ,CAAC,CACL2B,OAAO,CAAEF,IADJ,CAELf,WAAW,CAAXA,WAFK,CAGLc,QAAQ,CAARA,QAHK,CAILI,IAAI,CAAE,sBAAMd,CAAAA,IAAI,EAAV,EAJD,CAKLe,MAAM,CAAE,MAAKb,mBAAL,EALH,CAAD,CAAR,CALS,sD,0IAcL,oBACCN,CAAAA,WADD,CACgB,KAAKD,KADrB,CACCC,WADD,CAGJ,mBACI,4CACI,oBAAC,OAAD,MADJ,cAGI,2BAAK,SAAS,CAAC,iBAAf,eACI,oBAAC,MAAD,EAAQ,QAAQ,CAAC,OAAjB,eACI,oBAAC,WAAD,EAAa,KAAK,CAAC,WAAnB,EADJ,cAGI,2BAAK,SAAS,CAAC,yBAAf,eACI,oBAAC,QAAD,EACG,WAAW,CAAC,iBADf,CAEG,SAAS,CAAC,cAFb,CAGG,KAAK,CAAEA,WAHV,CAIG,WAAW,CAAE,KAAKQ,UAJrB,EADJ,CAHJ,cAYI,2BAAK,SAAS,CAAC,yBAAf,CAAyC,KAAK,CAAE,CAACY,SAAS,CAAE,CAAZ,CAAhD,eACI,oBAAC,SAAD,EACI,QAAQ,CAAE,CAACC,GAAG,CAAC,CAAC,EAAN,CAASC,IAAI,CAAE,CAAC,GAAhB,CADd,CAEI,QAAQ,CAAC,eAFb,CAGI,cAAc,CAAE,wBAAAb,KAAK,QAAI,CAAA,MAAI,CAACN,QAAL,CAAc,CAACH,WAAW,CAAES,KAAd,CAAd,CAAJ,EAHzB,CAII,cAAc,KAJlB,EADJ,cAQI,oBAAC,SAAD,EAAW,IAAI,CAAE,KAAKL,IAAtB,CAA4B,OAAO,CAAC,WAApC,EARJ,cASI,oBAAC,aAAD,EACG,KAAK,CAAC,aADT,CAEG,OAAO,CAAE,KAAKO,UAFjB,CAGG,UAAU,CAAC,YAHd,EATJ,CAZJ,CADJ,CAHJ,CADJ,CAoCH,C,sBAnFkBxB,S,EA6FvB,cAAeC,CAAAA,OAAO,GAAGU,QAAH,CAAtB,CACA,OAAQA,QAAQ,GAAIyB,CAAAA,YAApB","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {FadeIn} from 'animate-components';\r\n import {editPost} from '../../../utils/post-utils';\r\n import d from '../../../utils/api/Dom';\r\n import ModalHeader from '../../others/modal/modal-header';\r\n import ModalBack from '../../others/modal/modal-back';\r\n import PrimaryButton from '../../others/button/primary-button';\r\n import AddEmojis from '../../others/emojis/add-emojis';\r\n import TextArea from '../../others/input/textArea';\r\n import Overlay from '../../others/overlay';\r\n import {number,string,func} from 'prop-types';\r\n\r\n class EditPost extends Component {\r\n     state = {\r\n         description: '',\r\n         ogDescription: ''\r\n     }\r\n\r\n     componentDidMount = () => {\r\n         let {description} = this.state;\r\n         this.setState({\r\n             description,\r\n             ogDescription: description\r\n         })\r\n     }\r\n\r\n     back = () => {\r\n         let {back} = this.props;\r\n         this.returnOgDescription();\r\n         back()\r\n     }\r\n\r\n     returnOgDescription = () => {\r\n         let {ogDescription} = this.state;\r\n         this.props.changeDesc(ogDescription)\r\n     }\r\n\r\n     descChange = ({target:{value}}) => {\r\n         this.setState({ description: value })\r\n         this.props.changeDesc(value)\r\n     }\r\n\r\n     updatePost = async e => {\r\n         e.preventDefault()\r\n         let {description} = this.state;\r\n         let {dispatch,post,back} = this.props;\r\n         new d('.e_p_update').addClass('a_disabled')\r\n         editPost({\r\n             post_id: post,\r\n             description,\r\n             dispatch,\r\n             done: () => back(),\r\n             failed: this.returnOgDescription()\r\n         })\r\n     }\r\n\r\n     render(){\r\n         let {description} = this.state;\r\n\r\n         return (\r\n             <div>\r\n                 <Overlay />\r\n\r\n                 <div className=\"edit_post modal\">\r\n                     <FadeIn duration=\"300ms\">\r\n                         <ModalHeader title=\"Edit post\" />\r\n\r\n                         <div className=\"e_p_middle modal_middle\">\r\n                             <TextArea\r\n                                placeholder=\"Description ...\"\r\n                                className=\"e_p_textarea\"\r\n                                value={description}\r\n                                valueChange={this.descChange}\r\n                             />\r\n                         </div>\r\n\r\n                         <div className=\"e_p_bottom modal_bottom\" style={{marginTop: 0}}>\r\n                             <AddEmojis\r\n                                 position={{top:-32,left: -217}}\r\n                                 textArea=\".e_p_textarea\"\r\n                                 updateTextArea={value => this.setState({description: value})}\r\n                                 recenterEmojis\r\n                             />\r\n\r\n                             <ModalBack back={this.back} btnType=\"secondary\" />\r\n                             <PrimaryButton\r\n                                label=\"Update post\"\r\n                                onClick={this.updatePost}\r\n                                extraClass=\"e_p_update\"\r\n                             />\r\n                         </div>\r\n                     </FadeIn>\r\n                 </div>\r\n             </div>\r\n         )\r\n     }\r\n }\r\n\r\n EditPost.propTypes = {\r\n     post: number.isRequired,\r\n     description: string.isRequired,\r\n     back: func.isRequired,\r\n     changeDesc: func.isRequired\r\n }\r\n\r\n export default connect()(EditPost);\r\n export {EditPost as PureEditPost}"]},"metadata":{},"sourceType":"module"}