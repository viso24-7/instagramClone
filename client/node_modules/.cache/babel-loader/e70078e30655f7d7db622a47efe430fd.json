{"ast":null,"code":"import _objectSpread from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\JavascriptProjects3\\\\instagramClone\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{FadeIn}from'animate-components';import{Me,bottomScroll}from'../../../../utils/utils';import{isAdmin}from'../../../../utils/admin-utils';import{editGroup}from'../../../../utils/group-utils';import Title from'../../../others/title';import AddEmojis from'../../../others/emojis/add-emojis';import SecondaryButton from'../../../others/button/secondary-button';import GroupInstruction from'../../instruction';import EditGroupFields from'./edit-group-fields';var EditGroup=/*#__PURE__*/function(_Component){_inherits(EditGroup,_Component);var _super=_createSuper(EditGroup);function EditGroup(){var _this;_classCallCheck(this,EditGroup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',bio:'',isPrivate:false};_this.setStateToProps=function(name,bio,group_type){_this.setState({name:name,bio:bio,isPrivate:group_type=='private'?true:false});};_this.componentWillReceiveProps=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var group_details,name,bio,group_type;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:group_details=_ref.group_details;name=group_details.name,bio=group_details.bio,group_type=group_details.group_type;_context.next=4;return _this.setStateToProps(name,bio,group_type);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$props$group_det,name,bio,group_type;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props$group_det=_this.props.group_details,name=_this$props$group_det.name,bio=_this$props$group_det.bio,group_type=_this$props$group_det.group_type;_context2.next=3;return _this.setStateToProps(name,bio,group_type);case 3:case\"end\":return _context2.stop();}}},_callee2);}));_this.componentDidUpdate=function(){return bottomScroll();};_this.changeValue=function(what,_ref4){var target=_ref4.target;var value=target.type=='checkbox'?target.checked:target.value;_this.setState(_defineProperty({},what,value));};_this.update=function(e){e.preventdefault();var _this$props=_this.props,group_id=_this$props.group_details.group_id,dispatch=_this$props.dispatch;editGroup(_objectSpread(_objectSpread({},_this.state),{},{group_id:group_id,dispatch:dispatch}));};return _this;}_createClass(EditGroup,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,name=_this$state.name,bio=_this$state.bio,isPrivate=_this$state.isPrivate;var admin=this.props.group_details.admin;var disabled=!Me(admin)&&!isAdmin();var btnDisabled=!name||!bio||disabled;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Title,{value:\"edit group\"}),/*#__PURE__*/React.createElement(FadeIn,{duration:\"300ms\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper_p\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper_k\"},/*#__PURE__*/React.createElement(GroupInstruction,{showBtns:false})),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper_p\"},/*#__PURE__*/React.createElement(\"div\",{className:\"grp_edit\"},/*#__PURE__*/React.createElement(EditGroupFields,{fields:{name:name,bio:bio,isPrivate:isPrivate},changeValue:this.changeValue}),/*#__PURE__*/React.createElement(\"div\",{className:\"g_e_save\"},/*#__PURE__*/React.createElement(AddEmojis,{position:{top:304,left:368},textArea:\".gen_bio\",updateTextArea:function updateTextArea(value){return _this2.setState({bio:value});},disabled:disabled}),/*#__PURE__*/React.createElement(SecondaryButton,{label:\"Update\",onClick:this.update,extraClass:\"g_e_save_btn\",disabled:btnDisabled})))))));}}]);return EditGroup;}(Component);var mapStateToProps=function mapStateToProps(state){return{group_details:state.Group.group_details};};export default connect(mapStateToProps)(EditGroup);export{EditGroup as PureEditGroup};","map":{"version":3,"sources":["C:/JavascriptProjects3/instagramClone/client/src/components/group/sections/edit/edit-group.js"],"names":["React","Component","connect","FadeIn","Me","bottomScroll","isAdmin","editGroup","Title","AddEmojis","SecondaryButton","GroupInstruction","EditGroupFields","EditGroup","state","name","bio","isPrivate","setStateToProps","group_type","setState","componentWillReceiveProps","group_details","componentDidMount","props","componentDidUpdate","changeValue","what","target","value","type","checked","update","e","preventdefault","group_id","dispatch","admin","disabled","btnDisabled","top","left","mapStateToProps","Group","PureEditGroup"],"mappings":"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","sourcesContent":[" import React,{Component} from 'react';\r\n import {connect} from 'react-redux';\r\n import {FadeIn} from 'animate-components';\r\n import {Me,bottomScroll} from '../../../../utils/utils';\r\n import {isAdmin} from '../../../../utils/admin-utils';\r\n import {editGroup} from '../../../../utils/group-utils';\r\n import Title from '../../../others/title';\r\n import AddEmojis from '../../../others/emojis/add-emojis';\r\n import SecondaryButton from '../../../others/button/secondary-button';\r\n import GroupInstruction from '../../instruction';\r\n import EditGroupFields from './edit-group-fields';\r\n \r\n class EditGroup extends Component {\r\n     state = {\r\n         name: '',\r\n         bio: '',\r\n         isPrivate: false\r\n     }\r\n\r\n     setStateToProps = (name,bio,group_type) => {\r\n         this.setState({\r\n             name,\r\n             bio,\r\n             isPrivate: group_type == 'private' ? true : false\r\n         })\r\n     }\r\n\r\n     componentWillReceiveProps = async ({group_details}) => {\r\n         let {name,bio,group_type} = group_details;\r\n         await this.setStateToProps(name,bio,group_type)\r\n     }\r\n\r\n     componentDidMount = async () => {\r\n        let {name,bio,group_type} = this.props.group_details;\r\n        await this.setStateToProps(name,bio,group_type)\r\n     }\r\n    \r\n     componentDidUpdate = () => bottomScroll()\r\n\r\n     changeValue = (what,{target}) => {\r\n         const value = target.type == 'checkbox' ? target.checked : target.value\r\n         this.setState({ [what]: value})\r\n     }\r\n\r\n     update = e => {\r\n         e.preventdefault()\r\n         let {group_details: {group_id},dispatch} = this.props;\r\n         editGroup({\r\n             ...this.state,\r\n             group_id,\r\n             dispatch\r\n         })\r\n     }\r\n\r\n    \r\n     render(){\r\n         let {name,bio,isPrivate} = this.state;\r\n         let {group_details: {admin}} = this.props;\r\n         let disabled = !Me(admin) && !isAdmin()\r\n         let btnDisabled = !name || !bio || disabled\r\n\r\n         return (\r\n             <div>\r\n                 <Title value=\"edit group\" />\r\n\r\n                 <FadeIn duration=\"300ms\">\r\n                     <div className=\"wrapper_p\">\r\n                         <div className=\"wrapper_k\">\r\n                             <GroupInstruction showBtns={false} />\r\n                         </div>\r\n\r\n                         <div className=\"wrapper_p\">\r\n                             <div className=\"grp_edit\">\r\n                                 <EditGroupFields\r\n                                   fields={{name,bio,isPrivate}}\r\n                                   changeValue={this.changeValue}\r\n                                 />\r\n\r\n                                 <div className=\"g_e_save\">\r\n                                     <AddEmojis\r\n                                          position={{ top: 304, left: 368}}\r\n                                          textArea=\".gen_bio\"\r\n                                          updateTextArea={value => this.setState({ bio: value})}\r\n                                          disabled={disabled}\r\n                                     />\r\n\r\n                                     <SecondaryButton\r\n                                         label=\"Update\"\r\n                                         onClick={this.update}\r\n                                         extraClass=\"g_e_save_btn\"\r\n                                         disabled={btnDisabled}\r\n                                     />\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                     </div>\r\n                 </FadeIn>\r\n             </div>\r\n         )\r\n     }\r\n }\r\n\r\n  const mapStateToProps = state => ({\r\n      group_details: state.Group.group_details\r\n  })\r\n\r\n  export default connect(mapStateToProps)(EditGroup);\r\n  export {EditGroup as PureEditGroup}"]},"metadata":{},"sourceType":"module"}